<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æœè¾</title>
  
  <subtitle>Have a nice day!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-09-12T02:54:42.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Zhaoci</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LeetCode-1401 Circle And Rectangle Overlapping</title>
    <link href="http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1401-Circle-And-Rectangle-Over-lapping/"/>
    <id>http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1401-Circle-And-Rectangle-Over-lapping/</id>
    <published>2020-09-12T02:54:00.000Z</published>
    <updated>2020-09-12T02:54:42.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™ä½ ä¸€ä¸ªä»¥ (radius, x_center, y_center) è¡¨ç¤ºçš„åœ†å’Œä¸€ä¸ªä¸åæ ‡è½´å¹³è¡Œçš„çŸ©å½¢ (x1, y1, x2, y2)ï¼Œå…¶ä¸­ (x1, y</span></span><br><span class="line"><span class="comment">//1) æ˜¯çŸ©å½¢å·¦ä¸‹è§’çš„åæ ‡ï¼Œ(x2, y2) æ˜¯å³ä¸Šè§’çš„åæ ‡ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// å¦‚æœåœ†å’ŒçŸ©å½¢æœ‰é‡å çš„éƒ¨åˆ†ï¼Œè¯·ä½ è¿”å› True ï¼Œå¦åˆ™è¿”å› False ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ¢å¥è¯è¯´ï¼Œè¯·ä½ æ£€æµ‹æ˜¯å¦ å­˜åœ¨ ç‚¹ (xi, yi) ï¼Œå®ƒæ—¢åœ¨åœ†ä¸Šä¹Ÿåœ¨çŸ©å½¢ä¸Šï¼ˆä¸¤è€…éƒ½åŒ…æ‹¬ç‚¹è½åœ¨è¾¹ç•Œä¸Šçš„æƒ…å†µï¼‰ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šradius = 1, x_center = 0, y_center = 0, x1 = 1, y1 = -1, x2 = 3, y2 = 1</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼štrue</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šåœ†å’ŒçŸ©å½¢æœ‰å…¬å…±ç‚¹ (1,0) </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šradius = 1, x_center = 0, y_center = 0, x1 = -1, y1 = 0, x2 = 0, y2 = 1</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼štrue</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 3ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šradius = 1, x_center = 1, y_center = 1, x1 = -3, y1 = -3, x2 = 3, y2 = 3</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼štrue</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 4ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šradius = 1, x_center = 1, y_center = 1, x1 = 1, y1 = -3, x2 = 2, y2 = -1</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šfalse</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1 &lt;= radius &lt;= 2000 </span></span><br><span class="line"><span class="comment">// -10^4 &lt;= x_center, y_center, x1, y1, x2, y2 &lt;= 10^4 </span></span><br><span class="line"><span class="comment">// x1 &lt; x2 </span></span><br><span class="line"><span class="comment">// y1 &lt; y2 </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics å‡ ä½• </span></span><br><span class="line"><span class="comment">// ğŸ‘ 16 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P1401CircleAndRectangleOverlapping</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P1401CircleAndRectangleOverlapping().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.checkOverlap(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,-<span class="number">3</span>,-<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ€è·¯ï¼šçŸ©å½¢åŒºåŸŸå†…ç¦»åœ†å¿ƒæœ€è¿‘çš„ç‚¹è·ç¦»å°äºç­‰äºåœ†çš„åŠå¾„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * çŸ©å½¢åŒºåŸŸç‰¹ç‚¹æ˜¯xï¼Œyå–å€¼ç›¸äº’ç‹¬ç«‹ï¼Œè·ç¦»å…¬ç¤ºåˆå¯¹xï¼Œyåˆ†åˆ«å•è°ƒï¼Œåˆ†åˆ«å–æœ€å°è·ç¦»å³å¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * E.g:</span></span><br><span class="line"><span class="comment">     * x_center&lt;x1&lt;x2 -&gt; min(dx)=x1-x_center</span></span><br><span class="line"><span class="comment">     * x1&lt;=x_center&lt;=x2 -&gt; min(dx)=0</span></span><br><span class="line"><span class="comment">     * x1&lt;x2&lt;x_center -&gt; min(dx)=x_center-x2</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkOverlap</span><span class="params">(<span class="keyword">int</span> radius, <span class="keyword">int</span> x_center, <span class="keyword">int</span> y_center, <span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Math.pow((x1&gt;x_center?x1-x_center:<span class="number">0</span>) + (x_center&gt;x2? x_center-x2:<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line">                    + Math.pow((y1&gt;y_center?y1-y_center:<span class="number">0</span>)+(y_center&gt;y2?y_center-y2:<span class="number">0</span>),<span class="number">2</span>) &lt;= Math.pow(radius,<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="å‡ ä½•" scheme="http://yoursite.com/tags/%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-1266 Minimum Time Visiting All Points</title>
    <link href="http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1266-Minimum-Time-Visiting-All-Points/"/>
    <id>http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1266-Minimum-Time-Visiting-All-Points/</id>
    <published>2020-09-12T02:30:00.000Z</published>
    <updated>2020-09-12T02:31:13.283Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¹³é¢ä¸Šæœ‰ n ä¸ªç‚¹ï¼Œç‚¹çš„ä½ç½®ç”¨æ•´æ•°åæ ‡è¡¨ç¤º points[i] = [xi, yi]ã€‚è¯·ä½ è®¡ç®—è®¿é—®æ‰€æœ‰è¿™äº›ç‚¹éœ€è¦çš„æœ€å°æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä½ å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„è§„åˆ™åœ¨å¹³é¢ä¸Šç§»åŠ¨ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// æ¯ä¸€ç§’æ²¿æ°´å¹³æˆ–è€…ç«–ç›´æ–¹å‘ç§»åŠ¨ä¸€ä¸ªå•ä½é•¿åº¦ï¼Œæˆ–è€…è·¨è¿‡å¯¹è§’çº¿ï¼ˆå¯ä»¥çœ‹ä½œåœ¨ä¸€ç§’å†…å‘æ°´å¹³å’Œç«–ç›´æ–¹å‘å„ç§»åŠ¨ä¸€ä¸ªå•ä½é•¿åº¦ï¼‰ã€‚ </span></span><br><span class="line"><span class="comment">// å¿…é¡»æŒ‰ç…§æ•°ç»„ä¸­å‡ºç°çš„é¡ºåºæ¥è®¿é—®è¿™äº›ç‚¹ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼špoints = [[1,1],[3,4],[-1,0]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š7</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šä¸€æ¡æœ€ä½³çš„è®¿é—®è·¯å¾„æ˜¯ï¼š [1,1] -&gt; [2,2] -&gt; [3,3] -&gt; [3,4] -&gt; [2,3] -&gt; [1,2] -&gt; [0,1] -&gt; </span></span><br><span class="line"><span class="comment">//[-1,0]   </span></span><br><span class="line"><span class="comment">//ä» [1,1] åˆ° [3,4] éœ€è¦ 3 ç§’ </span></span><br><span class="line"><span class="comment">//ä» [3,4] åˆ° [-1,0] éœ€è¦ 4 ç§’</span></span><br><span class="line"><span class="comment">//ä¸€å…±éœ€è¦ 7 ç§’ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼špoints = [[3,2],[-2,2]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š5</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// points.length == n </span></span><br><span class="line"><span class="comment">// 1 &lt;= n &lt;= 100 </span></span><br><span class="line"><span class="comment">// points[i].length == 2 </span></span><br><span class="line"><span class="comment">// -1000 &lt;= points[i][0], points[i][1] &lt;= 1000 </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics å‡ ä½• æ•°ç»„ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 52 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P1266MinimumTimeVisitingAllPoints</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P1266MinimumTimeVisitingAllPoints().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.minTimeToVisitAllPoints(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minTimeToVisitAllPoints</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> len = points.length;</span><br><span class="line">            <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> x = Math.abs(points[i][<span class="number">0</span>]-points[i-<span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">int</span> y = Math.abs(points[i][<span class="number">1</span>]-points[i-<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">                t += Math.min(x,y) + Math.abs(x-y);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="Easy" scheme="http://yoursite.com/tags/Easy/"/>
    
      <category term="å‡ ä½•" scheme="http://yoursite.com/tags/%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-1232 Check If It is Straight Line</title>
    <link href="http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1232-Check-If-It-Is-Straight-Line/"/>
    <id>http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-1232-Check-If-It-Is-Straight-Line/</id>
    <published>2020-09-12T02:19:00.000Z</published>
    <updated>2020-09-12T02:19:56.183Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä¸€ä¸ª XY åæ ‡ç³»ä¸­æœ‰ä¸€äº›ç‚¹ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„ coordinates æ¥åˆ†åˆ«è®°å½•å®ƒä»¬çš„åæ ‡ï¼Œå…¶ä¸­ coordinates[i] = [x, y] è¡¨ç¤ºæ¨ªåæ ‡ä¸º</span></span><br><span class="line"><span class="comment">// xã€çºµåæ ‡ä¸º y çš„ç‚¹ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¯·ä½ æ¥åˆ¤æ–­ï¼Œè¿™äº›ç‚¹æ˜¯å¦åœ¨è¯¥åæ ‡ç³»ä¸­å±äºåŒä¸€æ¡ç›´çº¿ä¸Šï¼Œæ˜¯åˆ™è¿”å› trueï¼Œå¦åˆ™è¯·è¿”å› falseã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šcoordinates = [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼štrue</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼šcoordinates = [[1,1],[2,2],[3,4],[4,5],[5,6],[7,7]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šfalse</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 2 &lt;= coordinates.length &lt;= 1000 </span></span><br><span class="line"><span class="comment">// coordinates[i].length == 2 </span></span><br><span class="line"><span class="comment">// -10^4 &lt;= coordinates[i][0], coordinates[i][1] &lt;= 10^4 </span></span><br><span class="line"><span class="comment">// coordinates ä¸­ä¸å«é‡å¤çš„ç‚¹ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics å‡ ä½• æ•°ç»„ æ•°å­¦ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 33 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P1232CheckIfItIsAStraightLine</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P1232CheckIfItIsAStraightLine().<span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="comment">//[-4,-3],[1,0],[3,-1],[0,-1],[-5,2]</span></span><br><span class="line">        System.out.println(solution.checkStraightLine(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;-<span class="number">4</span>,-<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">3</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">5</span>,<span class="number">2</span>&#125;&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="comment">// æ±‚æ–œç‡ï¼Œä½†å­˜åœ¨ç›´çº¿å‚ç›´xè½´çš„æ— æ–œç‡æƒ…å†µ</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkStraightLine</span><span class="params">(<span class="keyword">int</span>[][] coordinates)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> len = coordinates.length;</span><br><span class="line">            <span class="comment">// æ–œç‡ä¸å­˜åœ¨çš„æƒ…å†µ</span></span><br><span class="line">            <span class="keyword">if</span>(coordinates[<span class="number">0</span>][<span class="number">0</span>]==coordinates[<span class="number">1</span>][<span class="number">0</span>])&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len-<span class="number">1</span>; i++)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(coordinates[i][<span class="number">0</span>]!=coordinates[i+<span class="number">1</span>][<span class="number">0</span>])</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ–œç‡å­˜åœ¨</span></span><br><span class="line">            <span class="keyword">double</span> k = (<span class="keyword">double</span>)(coordinates[<span class="number">1</span>][<span class="number">1</span>]-coordinates[<span class="number">0</span>][<span class="number">1</span>])/(coordinates[<span class="number">1</span>][<span class="number">0</span>]-coordinates[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len-<span class="number">1</span>; i++)&#123;</span><br><span class="line">                <span class="comment">// å¯èƒ½å­˜åœ¨ä¸¤ç‚¹åœ¨ä¸€æ¡ç«–çº¿å¯¼è‡´çš„æ–œç‡ä¸å­˜åœ¨é—®é¢˜</span></span><br><span class="line">                <span class="keyword">if</span>(coordinates[i+<span class="number">1</span>][<span class="number">0</span>]==coordinates[i][<span class="number">0</span>])</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">if</span>((<span class="keyword">double</span>)(coordinates[i+<span class="number">1</span>][<span class="number">1</span>]-coordinates[i][<span class="number">1</span>])/(coordinates[i+<span class="number">1</span>][<span class="number">0</span>]-coordinates[i][<span class="number">0</span>]) != k)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="æ•°å­¦" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="Easy" scheme="http://yoursite.com/tags/Easy/"/>
    
      <category term="å‡ ä½•" scheme="http://yoursite.com/tags/%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-963 Minimum Area Rectangleli</title>
    <link href="http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-963-Minimum-Area-Rectangleli/"/>
    <id>http://yoursite.com/2020/09/12/leetcode_old/2020-09-12-LeetCode-963-Minimum-Area-Rectangleli/</id>
    <published>2020-09-12T01:54:00.000Z</published>
    <updated>2020-09-12T01:55:28.688Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šåœ¨ xy å¹³é¢ä¸Šçš„ä¸€ç»„ç‚¹ï¼Œç¡®å®šç”±è¿™äº›ç‚¹ç»„æˆçš„ä»»ä½•çŸ©å½¢çš„æœ€å°é¢ç§¯ï¼Œå…¶ä¸­çŸ©å½¢çš„è¾¹ä¸ä¸€å®šå¹³è¡Œäº x è½´å’Œ y è½´ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ä»»ä½•çŸ©å½¢ï¼Œå°±è¿”å› 0ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[[1,2],[2,1],[1,0],[0,1]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š2.00000</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šæœ€å°é¢ç§¯çš„çŸ©å½¢å‡ºç°åœ¨ [1,2],[2,1],[1,0],[0,1] å¤„ï¼Œé¢ç§¯ä¸º 2ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[[0,1],[2,1],[1,1],[1,0],[2,0]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š1.00000</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šæœ€å°é¢ç§¯çš„çŸ©å½¢å‡ºç°åœ¨ [1,0],[1,1],[2,1],[2,0] å¤„ï¼Œé¢ç§¯ä¸º 1ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 3ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[[0,3],[1,2],[3,1],[1,3],[2,1]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š0</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šæ²¡æ³•ä»è¿™äº›ç‚¹ä¸­ç»„æˆä»»ä½•çŸ©å½¢ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 4ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š[[3,1],[1,1],[0,1],[2,1],[3,3],[3,2],[0,2],[2,3]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š2.00000</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šæœ€å°é¢ç§¯çš„çŸ©å½¢å‡ºç°åœ¨ [2,1],[2,3],[3,3],[3,1] å¤„ï¼Œé¢ç§¯ä¸º 2ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1 &lt;= points.length &lt;= 50 </span></span><br><span class="line"><span class="comment">// 0 &lt;= points[i][0] &lt;= 40000 </span></span><br><span class="line"><span class="comment">// 0 &lt;= points[i][1] &lt;= 40000 </span></span><br><span class="line"><span class="comment">// æ‰€æœ‰çš„ç‚¹éƒ½æ˜¯ä¸åŒçš„ã€‚ </span></span><br><span class="line"><span class="comment">// ä¸çœŸå®å€¼è¯¯å·®ä¸è¶…è¿‡ 10^-5 çš„ç­”æ¡ˆå°†è§†ä¸ºæ­£ç¡®ç»“æœã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics å‡ ä½• æ•°å­¦ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 29 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P963MinimumAreaRectangleIi</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P963MinimumAreaRectangleIi().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.minAreaFreeRect(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">3</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">2</span>,<span class="number">1</span>&#125;,&#123;<span class="number">3</span>,<span class="number">3</span>&#125;,&#123;<span class="number">3</span>,<span class="number">2</span>&#125;,&#123;<span class="number">0</span>,<span class="number">2</span>&#125;,&#123;<span class="number">2</span>,<span class="number">3</span>&#125;&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 2: æšä¸¾ä¸­å¿ƒ</span></span><br><span class="line"><span class="comment">     * æ€è·¯ï¼šä¸€ä¸ªçŸ©å½¢ABCDçš„å¯¹è§’çº¿ACå’ŒBDï¼Œå…±äº«åŒä¸€ä¸ªä¸­ç‚¹Oï¼Œå¹¶ä¸”ä¸­ç‚¹åˆ°é¡¶ç‚¹çš„é•¿åº¦å‡ç›¸åŒdist(O,A)==</span></span><br><span class="line"><span class="comment">     * dist(O,B)==dist(O,C)==dist(O,D)ã€‚å½¢æˆä¸€ä¸ªçŸ©å½¢çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ä¸¤æ¡å¯¹è§’çº¿çš„ä¸­ç‚¹ç›¸åŒä¸”ç«¯ç‚¹</span></span><br><span class="line"><span class="comment">     * åˆ°ä¸­ç‚¹è·ç¦»ä¹Ÿç›¸åŒã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ç®—æ³•ï¼šå¯¹äºæ¯ä¸€ä¸ªç‚¹å¯¹ï¼ŒæŒ‰ç…§å®ƒä»¬çš„ä¸­ç‚¹ä¸ä¸­ç‚¹è·è¿›è¡Œåˆ†ç±»ï¼Œåªéœ€è¦è®°å½•å…¶ä¸­ä¸€ä¸ªç‚¹På³å¯ï¼Œå› ä¸ºå¦ä¸€ä¸ªç‚¹</span></span><br><span class="line"><span class="comment">     * å¯ä»¥è®¡ç®—å¾—å‡ºï¼šP'=2*center-P(å‘é‡è®¡ç®—)ã€‚å¯¹äºæ¯å¯¹ä¸­ç‚¹ä¸ä¸­ç‚¹è·ï¼Œæˆ‘ä»¬æ£€æŸ¥æ¯ä¸€ä¸ªå¯è¡Œçš„çŸ©å½¢(å‡è®¾</span></span><br><span class="line"><span class="comment">     * ä¸¤ä¸ªç‚¹å¯¹åˆ†åˆ«ä¸ºP,P',Q,Q')ã€‚çŸ©å½¢çš„é¢ç§¯æ˜¯dist(P,Q)*dist(P,Q')ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">minAreaFreeRect</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> N = points.length;</span><br><span class="line">            Point[] A = <span class="keyword">new</span> Point[N];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">                A[i]=<span class="keyword">new</span> Point(points[i][<span class="number">0</span>],points[i][<span class="number">1</span>]);</span><br><span class="line">            Map&lt;Integer, Map&lt;Point, List&lt;Point&gt;&gt;&gt; seen = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;N;j++)&#123;</span><br><span class="line">                    <span class="comment">// å–ä¸­ç‚¹è·çš„ä¸¤å€ä»¥é¿å…å°æ•°</span></span><br><span class="line">                    Point center = <span class="keyword">new</span> Point(A[i].x+A[j].x, A[i].y+A[j].y);</span><br><span class="line">                    <span class="keyword">int</span> r2 = (<span class="keyword">int</span>) (Math.pow(A[i].x-A[j].x, <span class="number">2</span>) + Math.pow(A[i].y-A[j].y,<span class="number">2</span>));</span><br><span class="line">                    <span class="comment">// å¦‚ä½•mapä¸­æ²¡æœ‰è¯¥ä¸­ç‚¹è·ï¼Œåˆ™ä½œä¸ºkeyåŠ å…¥åˆ°mapä¸­</span></span><br><span class="line">                    <span class="keyword">if</span>(!seen.containsKey(r2))</span><br><span class="line">                        seen.put(r2, <span class="keyword">new</span> HashMap&lt;Point, List&lt;Point&gt;&gt;());</span><br><span class="line">                    <span class="comment">// çº³å…¥è¯¥ä¸­ç‚¹è·å¯¹åº”çš„ä¸­å¿ƒç‚¹åˆ—è¡¨ï¼ˆä¸­ç‚¹è·ç›¸åŒä¸”ä¸­ç‚¹ç›¸åŒçš„ç‚¹å¯¹æ‰èƒ½æ„æˆçŸ©å½¢ï¼‰</span></span><br><span class="line">                    <span class="keyword">if</span>(!seen.get(r2).containsKey(center))</span><br><span class="line">                        seen.get(r2).put(center, <span class="keyword">new</span> ArrayList&lt;Point&gt;());</span><br><span class="line">                    seen.get(r2).get(center).add(A[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">double</span> ans = Double.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span>(Map&lt;Point, List&lt;Point&gt;&gt; info: seen.values())&#123;</span><br><span class="line">                <span class="comment">// centeræ˜¯ä¸¤å€</span></span><br><span class="line">                <span class="keyword">for</span>(Point center: info.keySet())&#123;</span><br><span class="line">                    List&lt;Point&gt; candidates = info.get(center);</span><br><span class="line">                    <span class="keyword">int</span> len = candidates.size();</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;len; j++)&#123;</span><br><span class="line">                            Point P = candidates.get(i);</span><br><span class="line">                            Point Q = candidates.get(j); <span class="comment">// P,Qæ˜¯çŸ©å½¢çš„ç›¸é‚»ç‚¹</span></span><br><span class="line">                            Point Q2 = <span class="keyword">new</span> Point(center.x-Q.x, center.y-Q.y); <span class="comment">//Q2æ˜¯Qçš„å¯¹è§’ç‚¹</span></span><br><span class="line">                            <span class="keyword">double</span> area = P.distance(Q)*P.distance(Q2);</span><br><span class="line">                            <span class="keyword">if</span>(area&lt;ans)</span><br><span class="line">                                ans=area;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> ans&lt;Double.MAX_VALUE ? ans:<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="keyword">int</span> y;</span><br><span class="line"></span><br><span class="line">        Point(<span class="keyword">int</span> x,<span class="keyword">int</span> y)&#123;</span><br><span class="line">            <span class="keyword">this</span>.x=x;</span><br><span class="line">            <span class="keyword">this</span>.y=y;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">distance</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Math.sqrt(Math.pow(<span class="keyword">this</span>.x-p.x,<span class="number">2</span>)+Math.pow(<span class="keyword">this</span>.y-p.y,<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Objects.hash(x,y);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Point)&#123;</span><br><span class="line">                Point p = (Point)obj;</span><br><span class="line">                <span class="keyword">return</span> x==p.x&amp;&amp;y==p.y;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Solution: æšä¸¾ä¸‰è§’å½¢</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æ€è·¯ï¼šå¯¹äºæ¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œå°è¯•å¯»æ‰¾ç¬¬å››ä¸ªç‚¹å¹¶åˆ¤å®šå®ƒä»¬æ˜¯å¦èƒ½å½¢æˆä¸€ä¸ªçŸ©å½¢ã€‚</span></span><br><span class="line"><span class="comment"> * ç®—æ³•ï¼šå‡è®¾å‰ä¸‰ä¸ªç‚¹åˆ†åˆ«æ˜¯p1,p2,p3ï¼Œå¹¶ä¸”p2,p3åœ¨æœ€ç»ˆçš„çŸ©å½¢ä¸­å¤„äºå¯¹è§’çš„ä½ç½®ã€‚é‚£ä¹ˆç¬¬å››ä¸ª</span></span><br><span class="line"><span class="comment"> * ç‚¹å°±æ˜¯ p4=p2+p3-p1(å‘é‡è®¡ç®—)ã€‚ (å› ä¸ºp1,p2,p4,p3ä¸€å®šå½¢æˆä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢ï¼Œæ»¡è¶³p1+(p2-p1)</span></span><br><span class="line"><span class="comment"> * +(p3-p1)=p4)</span></span><br><span class="line"><span class="comment"> * å¦‚æœç»è®¡ç®—æ‰€å¾—åˆ°çš„ç¬¬å››ä¸ªç‚¹å­˜åœ¨äºç»™å®šçš„ç‚¹é›†ä¸­ï¼Œåˆ™æ¥ä¸‹æ¥éœ€è¦åˆ¤å®šå¹³è¡Œå››è¾¹å½¢çš„æŸä¸€ä¸ªè§’çš„åº¦æ•°æ˜¯å¦</span></span><br><span class="line"><span class="comment"> * ä¸º90åº¦ã€‚å¯ä»¥é€šè¿‡è®¡ç®—(p2-p1)ä¸(p3-p1)çš„ç‚¹ç§¯æ¥è¿›è¡Œåˆ¤æ–­ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public double minAreaFreeRect(int[][] points) &#123;</span></span><br><span class="line"><span class="comment">        int N = points.length;</span></span><br><span class="line"><span class="comment">        Set&lt;String&gt; pointSet = new HashSet&lt;&gt;();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        for(int i=0; i&lt;N; i++)</span></span><br><span class="line"><span class="comment">            pointSet.add(points[i][0]+"+"+points[i][1]);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        double ans = Double.MAX_VALUE;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        for(int i=0; i&lt;N; i++)&#123;</span></span><br><span class="line"><span class="comment">            int[] p1 = points[i];</span></span><br><span class="line"><span class="comment">            for(int j=0; j&lt;N; j++)&#123;</span></span><br><span class="line"><span class="comment">                if(j!=i)&#123;</span></span><br><span class="line"><span class="comment">                    int[] p2 = points[j];</span></span><br><span class="line"><span class="comment">                    for(int k=j+1; k&lt;N; k++)&#123;</span></span><br><span class="line"><span class="comment">                        if(k!=i)&#123;</span></span><br><span class="line"><span class="comment">                            int[] p3 = points[k];</span></span><br><span class="line"><span class="comment">                            int[] p4 = new int[]&#123;p2[0]+p3[0]-p1[0], p2[1]+p3[1]-p1[1]&#125;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                            if(pointSet.contains(p4[0]+"+"+p4[1]))&#123;</span></span><br><span class="line"><span class="comment">                                int dot = ((p2[0]-p1[0])*(p3[0]-p1[0])+(p2[1]-p1[1])*(p3[1]-p1[1])); // å‘é‡ç‚¹ç§¯</span></span><br><span class="line"><span class="comment">                                if(dot==0)&#123;</span></span><br><span class="line"><span class="comment">                                    double area = Math.sqrt(Math.pow(p2[0]-p1[0],2)+Math.pow(p2[1]-p1[1],2))*</span></span><br><span class="line"><span class="comment">                                            Math.sqrt(Math.pow(p3[0]-p1[0],2)+Math.pow(p3[1]-p1[1],2));</span></span><br><span class="line"><span class="comment">                                    if(area&lt;ans)</span></span><br><span class="line"><span class="comment">                                        ans = area;</span></span><br><span class="line"><span class="comment">                                &#125;</span></span><br><span class="line"><span class="comment">                            &#125;</span></span><br><span class="line"><span class="comment">                        &#125;</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        return ans&lt;Double.MAX_VALUE ? ans:0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°å­¦" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="å‡ ä½•" scheme="http://yoursite.com/tags/%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-587 Erect The Fence</title>
    <link href="http://yoursite.com/2020/09/11/leetcode_old/2020-09-11-LeetCode-587-Erect-The-Fence/"/>
    <id>http://yoursite.com/2020/09/11/leetcode_old/2020-09-11-LeetCode-587-Erect-The-Fence/</id>
    <published>2020-09-11T13:20:00.000Z</published>
    <updated>2020-09-11T12:51:13.350Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gin0392f64j30zk0k0dke.jpg" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä¸€ä¸ªäºŒç»´çš„èŠ±å›­ä¸­ï¼Œæœ‰ä¸€äº›ç”¨ (x, y) åæ ‡è¡¨ç¤ºçš„æ ‘ã€‚ç”±äºå®‰è£…è´¹ç”¨ååˆ†æ˜‚è´µï¼Œä½ çš„ä»»åŠ¡æ˜¯å…ˆç”¨æœ€çŸ­çš„ç»³å­å›´èµ·æ‰€æœ‰çš„æ ‘ã€‚åªæœ‰å½“æ‰€æœ‰çš„æ ‘éƒ½è¢«ç»³å­åŒ…å›´æ—¶ï¼ŒèŠ±å›­æ‰èƒ½</span></span><br><span class="line"><span class="comment">//å›´å¥½æ …æ ã€‚ä½ éœ€è¦æ‰¾åˆ°æ­£å¥½ä½äºæ …æ è¾¹ç•Œä¸Šçš„æ ‘çš„åæ ‡ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: [[1,1],[2,2],[2,0],[2,4],[3,3],[4,2]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [[1,1],[2,0],[4,2],[3,3],[2,4]]</span></span><br><span class="line"><span class="comment">//è§£é‡Š:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: [[1,2],[2,2],[4,2]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [[1,2],[2,2],[4,2]]</span></span><br><span class="line"><span class="comment">//è§£é‡Š:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//å³ä½¿æ ‘éƒ½åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œä½ ä¹Ÿéœ€è¦å…ˆç”¨ç»³å­åŒ…å›´å®ƒä»¬ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ³¨æ„: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// æ‰€æœ‰çš„æ ‘åº”å½“è¢«å›´åœ¨ä¸€èµ·ã€‚ä½ ä¸èƒ½å‰ªæ–­ç»³å­æ¥åŒ…å›´æ ‘æˆ–è€…æŠŠæ ‘åˆ†æˆä¸€ç»„ä»¥ä¸Šã€‚ </span></span><br><span class="line"><span class="comment">// è¾“å…¥çš„æ•´æ•°åœ¨ 0 åˆ° 100 ä¹‹é—´ã€‚ </span></span><br><span class="line"><span class="comment">// èŠ±å›­è‡³å°‘æœ‰ä¸€æ£µæ ‘ã€‚ </span></span><br><span class="line"><span class="comment">// æ‰€æœ‰æ ‘çš„åæ ‡éƒ½æ˜¯ä¸åŒçš„ã€‚ </span></span><br><span class="line"><span class="comment">// è¾“å…¥çš„ç‚¹æ²¡æœ‰é¡ºåºã€‚è¾“å‡ºé¡ºåºä¹Ÿæ²¡æœ‰è¦æ±‚ã€‚ </span></span><br><span class="line"><span class="comment">// Related Topics å‡ ä½• </span></span><br><span class="line"><span class="comment">// ğŸ‘ 49 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P587ErectTheFence</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P587ErectTheFence().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(Arrays.deepToString(solution.outerTrees(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">2</span>, <span class="number">2</span>&#125;, &#123;<span class="number">4</span>, <span class="number">2</span>&#125;&#125;)));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 2: Grahamæ‰«æ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 1. é¦–å…ˆé€‰æ‹©ä¸€ä¸ªå‡¸åŒ…ä¸Šçš„åˆå§‹ç‚¹bmã€‚é€‰æ‹©yåæ ‡æœ€å°çš„ç‚¹ä½œä¸ºèµ·å§‹ç‚¹ï¼Œå¦‚æœæœ‰ç›¸åŒçš„æœ€å°yåæ ‡ï¼Œåˆ™é€‰æ‹©xåæ ‡æœ€å°çš„ï¼Œè¿™ä¸ªç‚¹è¢«æ ‡è®°ä¸ºç‚¹0.</span></span><br><span class="line"><span class="comment">     * 2. å°†ç»™å®šç‚¹é›†æŒ‰ç…§ç›¸å¯¹åˆå§‹ç‚¹çš„æè§’åæ ‡æ’åº. æè§’é¡ºåºæ›´å°çš„ç‚¹æ’åœ¨æ•°ç»„çš„å‰é¢ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªç‚¹ç›¸å¯¹äºç‚¹0åœ¨åŒä¸€æ–¹å‘ä¸Šï¼Œåˆ™æŒ‰ç…§ä¸0çš„è·ç¦»æ’åº.</span></span><br><span class="line"><span class="comment">     * 3. è€ƒè™‘ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šå¦‚æœå…±çº¿çš„ç‚¹åœ¨å‡¸å£³çš„æœ€åä¸€æ¡è¾¹ä¸Šï¼Œéœ€è¦ä»è·ç¦»åˆå§‹ç‚¹æœ€è¿œçš„ç‚¹å¼€å§‹è€ƒè™‘ã€‚å› æ­¤åœ¨å°†æ•°ç»„æ’åºåï¼Œæˆ‘ä»¬ä»å°¾å¼€å§‹éå†</span></span><br><span class="line"><span class="comment">     * æœ‰åºæ•°ç»„å¹¶å°†å…±çº¿ä¸”æœæœ‰åºæ•°ç»„å°¾éƒ¨çš„ç‚¹åè½¬é¡ºåºã€‚</span></span><br><span class="line"><span class="comment">     * 4. ä»æœ‰åºæ•°ç»„æœ€å¼€å§‹çš„ä¸¤ä¸ªç‚¹å¼€å§‹è€ƒè™‘ã€‚ä»ç¬¬ä¸‰ä¸ªç‚¹å¼€å§‹éå†æœ‰åºæ•°ç»„ï¼Œå¦‚æœå½“å‰ç‚¹ä¸æ ˆé¡¶ç‚¹è¿çº¿ç›¸æ¯”å‰ä¸€æ¡çº¿æ˜¯â€œå·¦æ‹â€æˆ–åœ¨åŒä¸€æ¡çº¿ä¸Šï¼Œåœ¨å°†å½“å‰ç‚¹</span></span><br><span class="line"><span class="comment">     * æ·»åŠ åˆ°æ ˆé¡¶ï¼Œè¡¨ç¤ºè¿™ä¸ªç‚¹æš‚æ—¶è¢«æ·»åŠ åˆ°å‡¸å£³ä¸Š.</span></span><br><span class="line"><span class="comment">     * 5. å¦‚æœå½“å‰ç‚¹ä¸æ ˆé¡¶ç‚¹è¿çº¿ç›¸æ¯”ä¸Šä¸€æ¡çº¿çš„å…³ç³»æ˜¯â€œå³æ‹â€çš„ï¼Œè¯´æ˜ä¸Šä¸€ä¸ªç‚¹ä¸åº”è¯¥è¢«åŒ…æ‹¬åœ¨å‡¸å£³ä¸­ï¼Œå°†å…¶ä»æ ˆé¡¶å¼¹å‡ºå¹¶è€ƒè™‘å€’æ•°ç¬¬äºŒæ¡çº¿çš„æ–¹å‘ã€‚ä¾æ¬¡</span></span><br><span class="line"><span class="comment">     * ç±»æ¨ï¼Œç›´åˆ°å½“å‰ç‚¹åœ¨å‡¸å£³ä¸­å‡ºç°äº†å·¦æ‹ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">orientation</span><span class="params">(<span class="keyword">int</span>[] p, <span class="keyword">int</span>[] q, <span class="keyword">int</span>[] r)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (q[<span class="number">1</span>]-p[<span class="number">1</span>])*(r[<span class="number">0</span>]-q[<span class="number">0</span>])-(q[<span class="number">0</span>]-p[<span class="number">0</span>])*(r[<span class="number">1</span>]-q[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">distance</span><span class="params">(<span class="keyword">int</span>[] p, <span class="keyword">int</span>[] q)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (p[<span class="number">0</span>]-q[<span class="number">0</span>])*(p[<span class="number">0</span>]-q[<span class="number">0</span>]) + (p[<span class="number">1</span>]-q[<span class="number">1</span>])*(p[<span class="number">1</span>]-q[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span>[] bottomLeft(<span class="keyword">int</span>[][] points)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] bottomLeft = points[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] point:points)</span><br><span class="line">                <span class="keyword">if</span>(point[<span class="number">1</span>] &lt; bottomLeft[<span class="number">1</span>])</span><br><span class="line">                    bottomLeft = point;</span><br><span class="line">            <span class="keyword">return</span> bottomLeft;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[][] outerTrees(<span class="keyword">int</span>[][] points) &#123;</span><br><span class="line">            <span class="keyword">if</span>(points.length&lt;=<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> points;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span>[] bm = bottomLeft(points);</span><br><span class="line">            <span class="comment">// æ ¹æ®æè§’åæ ‡è¿›è¡Œæ’åºï¼Œæè§’é¡ºåºæ›´å°çš„ç‚¹æ’åœ¨æ•°ç»„çš„å‰é¢ã€‚å¦‚æœä¸¤ä¸ªç‚¹ç›¸å¯¹äºç‚¹0åœ¨åŒä¸€æ–¹å‘ä¸Šï¼Œ</span></span><br><span class="line">            <span class="comment">// åˆ™æŒ‰ç…§ä¸0çš„è·ç¦»è¿›è¡Œæ’åº.</span></span><br><span class="line">            Arrays.sort(points, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] p, <span class="keyword">int</span>[] q)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">double</span> diff = orientation(bm, p, q) -  orientation(bm, q, p);</span><br><span class="line">                    <span class="keyword">if</span>(diff == <span class="number">0</span>)</span><br><span class="line">                        <span class="keyword">return</span> distance(bm,p)-distance(bm,q);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">return</span> diff&gt;<span class="number">0</span> ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä»å°¾å¼€å§‹éå†æœ‰åºæ•°ç»„å¹¶å°†å…±çº¿ä¸”æœæœ‰åºæ•°ç»„å°¾éƒ¨çš„ç‚¹åè½¬é¡ºåº</span></span><br><span class="line">            <span class="keyword">int</span> i = points.length-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(i&gt;=<span class="number">0</span> &amp;&amp; orientation(bm, points[points.length-<span class="number">1</span>], points[i]) == <span class="number">0</span>)</span><br><span class="line">                i--;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> l=i+<span class="number">1</span>, h=points.length-<span class="number">1</span>; l&lt;h; l++,h--)&#123;</span><br><span class="line">                <span class="keyword">int</span>[] temp = points[l];</span><br><span class="line">                points[l] = points[h];</span><br><span class="line">                points[h] = temp;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Stack&lt;<span class="keyword">int</span>[]&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">            stack.push(points[<span class="number">0</span>]);</span><br><span class="line">            stack.push(points[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>; j&lt;points.length; j++)&#123;</span><br><span class="line">                <span class="keyword">int</span>[] top = stack.pop();</span><br><span class="line">                <span class="keyword">while</span>(orientation(stack.peek(), top, points[j]) &gt; <span class="number">0</span>)</span><br><span class="line">                    top = stack.pop();</span><br><span class="line">                stack.push(top);</span><br><span class="line">                stack.push(points[j]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> stack.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlgy1gin0392f64j30zk0k0dke.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td c
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="å‡ ä½•" scheme="http://yoursite.com/tags/%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-850 Rectangle Areali</title>
    <link href="http://yoursite.com/2020/09/11/leetcode_old/2020-09-11-LeetCode-850-Rectangle-Areali/"/>
    <id>http://yoursite.com/2020/09/11/leetcode_old/2020-09-11-LeetCode-850-Rectangle-Areali/</id>
    <published>2020-09-11T12:43:00.000Z</published>
    <updated>2020-09-11T12:43:26.585Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 2: åæ ‡å‹ç¼©</span></span><br><span class="line"><span class="comment"> * T: O(N^3)  Nä¸ºçŸ©å½¢çš„æ•°é‡  S: O(N^2)</span></span><br><span class="line"><span class="comment"> * æ€æƒ³ï¼šé¦–å…ˆè·å–æ‰€æœ‰çš„xå’Œyåæ ‡ï¼Œå°†å®ƒä»¬é‡æ–°æ˜ å°„åˆ°0,1,2,...ç­‰ç­‰ã€‚ä¾‹å¦‚rectangles=[[0,0,200,200],</span></span><br><span class="line"><span class="comment"> * [100,0,200,300],[100,0,300,100]]æ˜ å°„åˆ°[[0,0,2,2],[1,0,2,3],[1,0,3,1]]ã€‚ç„¶åï¼Œä½¿ç”¨æš´åŠ›</span></span><br><span class="line"><span class="comment"> * è§£æ³•è®¡ç®—æ€»è¦†ç›–é¢ç§¯ã€‚ä½†æ˜¯å› ä¸ºæ¯ä¸ªçŸ©å½¢å®é™…ä¸Šå¯èƒ½è¡¨ç¤ºæ›´å¤§çš„é¢ç§¯ï¼Œæ‰€ä»¥æœ€åéœ€è¦è°ƒæ•´ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ç®—æ³•ï¼š</span></span><br><span class="line"><span class="comment"> * 1. å°†æ‰€æœ‰xå’Œyåæ ‡æ˜ å°„åˆ°0,1,2,...</span></span><br><span class="line"><span class="comment"> * 2. ç„¶åä½¿ç”¨æš´åŠ›è§£æ³•ï¼Œåœ¨ç½‘æ ¼ä¸Šæ ‡è®°æ¯ä¸ªæ˜ å°„åçš„çŸ©å½¢ã€‚ä¾‹å¦‚å¯¹äºæ˜ å°„åçš„çŸ©å½¢(rx1,ry1,rx2,ry2)ï¼Œæ ‡è®°æ»¡è¶³</span></span><br><span class="line"><span class="comment"> * rx1&lt;=x&lt;rx2ä¸”ry1&lt;=y&lt;ry2çš„ç½‘æ ¼grid[x][y]=True.</span></span><br><span class="line"><span class="comment"> * 3. å¦‚æœxæ˜ å°„å¾—åˆ°rxï¼Œåˆ™å¯ä»¥é€šè¿‡é€†æ˜ å°„imapyä»rxå¾—åˆ°xï¼Œå³imapx(rx)=xã€‚æ¯ä¸ªç½‘æ ¼grid[rx][ry]ä»£è¡¨çš„</span></span><br><span class="line"><span class="comment"> * å®é™…çŸ©å½¢é¢ç§¯ä¸º (imapx(rx+1)-imapy(rx))*(imapy(ry+1)-imapy(ry)).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rectangleArea</span><span class="params">(<span class="keyword">int</span>[][] rectangles)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> N = rectangles.length;</span><br><span class="line">        Set&lt;Integer&gt; Xvals = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Integer&gt; Yvals = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] rec:rectangles)&#123;</span><br><span class="line">            Xvals.add(rec[<span class="number">0</span>]);</span><br><span class="line">            Xvals.add(rec[<span class="number">2</span>]);</span><br><span class="line">            Yvals.add(rec[<span class="number">1</span>]);</span><br><span class="line">            Yvals.add(rec[<span class="number">3</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Integer[] imapx = Xvals.toArray(<span class="keyword">new</span> Integer[<span class="number">0</span>]);</span><br><span class="line">        Arrays.sort(imapx);</span><br><span class="line">        Integer[] imapy = Yvals.toArray(<span class="keyword">new</span> Integer[<span class="number">0</span>]);</span><br><span class="line">        Arrays.sort(imapy);</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer,Integer&gt; mapx = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Integer,Integer&gt; mapy = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;imapx.length; i++)</span><br><span class="line">            mapx.put(imapx[i], i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;imapy.length; i++)</span><br><span class="line">            mapy.put(imapy[i], i);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span>[][] grid = <span class="keyword">new</span> <span class="keyword">boolean</span>[imapx.length][imapy.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] rec: rectangles)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x=mapx.get(rec[<span class="number">0</span>]); x&lt;mapx.get(rec[<span class="number">2</span>]); x++)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> y=mapy.get(rec[<span class="number">1</span>]); y&lt;mapy.get(rec[<span class="number">3</span>]); y++)</span><br><span class="line">                    grid[x][y]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>; x&lt;grid.length; x++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">0</span>; y&lt;grid[<span class="number">0</span>].length; y++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[x][y])</span><br><span class="line">                    ans += (<span class="keyword">long</span>) (imapx[x+<span class="number">1</span>]-imapx[x])*(imapy[y+<span class="number">1</span>]-imapy[y]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ans %= <span class="number">1_000_000_007</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>) ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="Line Sweep" scheme="http://yoursite.com/tags/Line-Sweep/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-391 Perfect Rectangle</title>
    <link href="http://yoursite.com/2020/09/10/leetcode_old/2020-09-10-LeetCode-391-Perfect-Rectangle/"/>
    <id>http://yoursite.com/2020/09/10/leetcode_old/2020-09-10-LeetCode-391-Perfect-Rectangle/</id>
    <published>2020-09-10T15:44:00.000Z</published>
    <updated>2020-09-10T15:45:13.430Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æˆ‘ä»¬æœ‰ N ä¸ªä¸åæ ‡è½´å¯¹é½çš„çŸ©å½¢, å…¶ä¸­ N &gt; 0, åˆ¤æ–­å®ƒä»¬æ˜¯å¦èƒ½ç²¾ç¡®åœ°è¦†ç›–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªçŸ©å½¢ç”¨å·¦ä¸‹è§’çš„ç‚¹å’Œå³ä¸Šè§’çš„ç‚¹çš„åæ ‡æ¥è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼Œ ä¸€ä¸ªå•ä½æ­£æ–¹å½¢å¯ä»¥è¡¨ç¤ºä¸º [1,1,2,2]ã€‚ ( å·¦ä¸‹è§’çš„ç‚¹çš„åæ ‡ä¸º (1, 1) ä»¥åŠå³ä¸Šè§’çš„ç‚¹</span></span><br><span class="line"><span class="comment">//çš„åæ ‡ä¸º (2, 2) )ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// rectangles = [</span></span><br><span class="line"><span class="comment">//  [1,1,3,3],</span></span><br><span class="line"><span class="comment">//  [3,1,4,2],</span></span><br><span class="line"><span class="comment">//  [3,2,4,4],</span></span><br><span class="line"><span class="comment">//  [1,3,2,4],</span></span><br><span class="line"><span class="comment">//  [2,3,3,4]</span></span><br><span class="line"><span class="comment">//]</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//è¿”å› trueã€‚5ä¸ªçŸ©å½¢ä¸€èµ·å¯ä»¥ç²¾ç¡®åœ°è¦†ç›–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// rectangles = [</span></span><br><span class="line"><span class="comment">//  [1,1,2,3],</span></span><br><span class="line"><span class="comment">//  [1,3,2,4],</span></span><br><span class="line"><span class="comment">//  [3,1,4,2],</span></span><br><span class="line"><span class="comment">//  [3,2,4,4]</span></span><br><span class="line"><span class="comment">//]</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//è¿”å› falseã€‚ä¸¤ä¸ªçŸ©å½¢ä¹‹é—´æœ‰é—´éš”ï¼Œæ— æ³•è¦†ç›–æˆä¸€ä¸ªçŸ©å½¢ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 3: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// rectangles = [</span></span><br><span class="line"><span class="comment">//  [1,1,3,3],</span></span><br><span class="line"><span class="comment">//  [3,1,4,2],</span></span><br><span class="line"><span class="comment">//  [1,3,2,4],</span></span><br><span class="line"><span class="comment">//  [3,2,4,4]</span></span><br><span class="line"><span class="comment">//]</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//è¿”å› falseã€‚å›¾å½¢é¡¶ç«¯ç•™æœ‰é—´éš”ï¼Œæ— æ³•è¦†ç›–æˆä¸€ä¸ªçŸ©å½¢ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 4: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// rectangles = [</span></span><br><span class="line"><span class="comment">//  [1,1,3,3],</span></span><br><span class="line"><span class="comment">//  [3,1,4,2],</span></span><br><span class="line"><span class="comment">//  [1,3,2,4],</span></span><br><span class="line"><span class="comment">//  [2,2,4,4]</span></span><br><span class="line"><span class="comment">//]</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//è¿”å› falseã€‚å› ä¸ºä¸­é—´æœ‰ç›¸äº¤åŒºåŸŸï¼Œè™½ç„¶å½¢æˆäº†çŸ©å½¢ï¼Œä½†ä¸æ˜¯ç²¾ç¡®è¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics Line Sweep </span></span><br><span class="line"><span class="comment">// ğŸ‘ 45 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.omg.PortableInterceptor.INACTIVE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Float.NEGATIVE_INFINITY;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Float.POSITIVE_INFINITY;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P391PerfectRectangle</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P391PerfectRectangle().<span class="keyword">new</span> Solution();</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution:</span></span><br><span class="line"><span class="comment">     * ä¿å­˜å°çŸ©å½¢çš„å››ä¸ªç‚¹ï¼Œå½“æœ‰çŸ©é˜µå’Œå®ƒæ‹¼æ¥çš„æ—¶å€™åˆ å»ã€‚</span></span><br><span class="line"><span class="comment">     * ç‚¹æœ‰ä¸‰ç§æƒ…å†µï¼š</span></span><br><span class="line"><span class="comment">     * 1. åœ¨å†…éƒ¨ï¼šå¦‚æœå¯ä»¥æ‹¼æˆï¼Œé‚£ä¹ˆä¸€å®šæ˜¯æœ‰å¶æ•°ä¸ªå°çŸ©å½¢ç‚¹ç»„æˆï¼›</span></span><br><span class="line"><span class="comment">     * 2. åœ¨è¾¹ç•Œï¼šåŒæ ·ä¹Ÿæ˜¯æˆå¯¹å‡ºç°ï¼›</span></span><br><span class="line"><span class="comment">     * 3. åœ¨æœ€å¤§çŸ©å½¢çš„å››ä¸ªç‚¹ï¼šåªå‡ºç°ä¸€æ¬¡ï¼Œæ‰€ä»¥æ¶ˆé™¤ä¸æ‰ã€‚</span></span><br><span class="line"><span class="comment">     * åªè¦æœ€åç•™ä¸‹å››ä¸ªæœ€å¤§çŸ©å½¢ç‚¹ï¼Œå¹¶ä¸”é¢ç§¯ä¹Ÿæ˜¯å¯¹çš„ï¼Œå³å¯ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isRectangleCover</span><span class="params">(<span class="keyword">int</span>[][] rectangles)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// ä¿å­˜æ‰€æœ‰çŸ©å½¢çš„å››ä¸ªç‚¹(åæ ‡å½¢å¼ï¼š(1,1)-&gt;"1+1"</span></span><br><span class="line">            Set&lt;String&gt; pointSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æœ€å¤§çŸ©å½¢çš„å·¦ä¸‹è§’ã€å³ä¸Šè§’</span></span><br><span class="line">            <span class="keyword">int</span> x1 = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">int</span> y1 = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">int</span> x2 = Integer.MIN_VALUE;</span><br><span class="line">            <span class="keyword">int</span> y2 = Integer.MIN_VALUE;</span><br><span class="line">            <span class="keyword">int</span> area = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// éå†æ¯ä¸ªçŸ©å½¢</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] rectangle: rectangles)&#123;</span><br><span class="line">                x1 = Math.min(x1, rectangle[<span class="number">0</span>]);</span><br><span class="line">                y1 = Math.min(y1, rectangle[<span class="number">1</span>]);</span><br><span class="line">                x2 = Math.max(x2, rectangle[<span class="number">2</span>]);</span><br><span class="line">                y2 = Math.max(y2, rectangle[<span class="number">3</span>]);</span><br><span class="line">                area += (rectangle[<span class="number">3</span>]-rectangle[<span class="number">1</span>])*(rectangle[<span class="number">2</span>]-rectangle[<span class="number">0</span>]);  <span class="comment">// æ·»åŠ è¯¥çŸ©å½¢é¢ç§¯åˆ°æ€»é¢ç§¯</span></span><br><span class="line">                <span class="comment">// å°†è¯¥çŸ©å½¢çš„å››ä¸ªç‚¹è¿›è¡Œå¤„ç†ï¼Œå¦‚æœæ‹¼æ¥åˆ™åˆ é™¤setä¸­çš„è¯¥ç‚¹ï¼Œå¦åˆ™æ·»åŠ è¯¥ç‚¹åˆ°set</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span>[] point: <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;rectangle[<span class="number">0</span>],rectangle[<span class="number">1</span>]&#125;,&#123;rectangle[<span class="number">2</span>],rectangle[<span class="number">3</span>]&#125;,&#123;rectangle[<span class="number">0</span>],rectangle[<span class="number">3</span>]&#125;,&#123;rectangle[<span class="number">2</span>],rectangle[<span class="number">1</span>]&#125;&#125;)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(pointSet.contains(point[<span class="number">0</span>]+<span class="string">"+"</span>+point[<span class="number">1</span>]))</span><br><span class="line">                        pointSet.remove(point[<span class="number">0</span>]+<span class="string">"+"</span>+point[<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        pointSet.add(point[<span class="number">0</span>]+<span class="string">"+"</span>+point[<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœåªå‰©ä¸‹å››ä¸ªç‚¹å¹¶ä¸”æ˜¯æœ€å¤§çŸ©å½¢çš„å·¦ä¸‹è§’å’Œå³ä¸‹è§’</span></span><br><span class="line">            <span class="keyword">if</span>(pointSet.size()!=<span class="number">4</span> || !pointSet.contains(x1+<span class="string">"+"</span>+y1) || !pointSet.contains(x1+<span class="string">"+"</span>+y2)</span><br><span class="line">                    || !pointSet.contains(x2+<span class="string">"+"</span>+y1) || !pointSet.contains(x2+<span class="string">"+"</span>+y2))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å†æ¥çœ‹é¢ç§¯æ˜¯å¦æ»¡è¶³(ä¿è¯ç²¾ç¡®åŒ¹é…æ— é‡å é¢ç§¯)</span></span><br><span class="line">            <span class="keyword">return</span> (x2-x1)*(y2-y1) == area;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="Line Sweep" scheme="http://yoursite.com/tags/Line-Sweep/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-218 The Skyline Problem</title>
    <link href="http://yoursite.com/2020/08/07/leetcode_old/2020-08-07-LeetCode-218-The-Skyline-Problem/"/>
    <id>http://yoursite.com/2020/08/07/leetcode_old/2020-08-07-LeetCode-218-The-Skyline-Problem/</id>
    <published>2020-08-07T07:48:00.000Z</published>
    <updated>2020-08-07T10:53:59.883Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ghig1sjd9vg313o0mmnm4.gif" alt=""></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŸå¸‚çš„å¤©é™…çº¿æ˜¯ä»è¿œå¤„è§‚çœ‹è¯¥åŸå¸‚ä¸­æ‰€æœ‰å»ºç­‘ç‰©å½¢æˆçš„è½®å»“çš„å¤–éƒ¨è½®å»“ã€‚ç°åœ¨ï¼Œå‡è®¾æ‚¨è·å¾—äº†åŸå¸‚é£å…‰ç…§ç‰‡ï¼ˆå›¾Aï¼‰ä¸Šæ˜¾ç¤ºçš„æ‰€æœ‰å»ºç­‘ç‰©çš„ä½ç½®å’Œé«˜åº¦ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºä»¥è¾“å‡ºç”±</span></span><br><span class="line"><span class="comment">//è¿™äº›å»ºç­‘ç‰©å½¢æˆçš„å¤©é™…çº¿ï¼ˆå›¾Bï¼‰ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªå»ºç­‘ç‰©çš„å‡ ä½•ä¿¡æ¯ç”¨ä¸‰å…ƒç»„ [Liï¼ŒRiï¼ŒHi] è¡¨ç¤ºï¼Œå…¶ä¸­ Li å’Œ Ri åˆ†åˆ«æ˜¯ç¬¬ i åº§å»ºç­‘ç‰©å·¦å³è¾¹ç¼˜çš„ x åæ ‡ï¼ŒHi æ˜¯å…¶é«˜åº¦ã€‚å¯ä»¥ä¿è¯ 0 </span></span><br><span class="line"><span class="comment">//â‰¤ Li, Ri â‰¤ INT_MAX, 0 &lt; Hi â‰¤ INT_MAX å’Œ Ri - Li &gt; 0ã€‚æ‚¨å¯ä»¥å‡è®¾æ‰€æœ‰å»ºç­‘ç‰©éƒ½æ˜¯åœ¨ç»å¯¹å¹³å¦ä¸”é«˜åº¦ä¸º 0 çš„è¡¨é¢ä¸Šçš„</span></span><br><span class="line"><span class="comment">//å®Œç¾çŸ©å½¢ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œå›¾Aä¸­æ‰€æœ‰å»ºç­‘ç‰©çš„å°ºå¯¸è®°å½•ä¸ºï¼š[ [2 9 10], [3 7 15], [5 12 12], [15 20 10], [19 24 8] ] ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å‡ºæ˜¯ä»¥ [ [x1,y1], [x2, y2], [x3, y3], ... ] æ ¼å¼çš„â€œå…³é”®ç‚¹â€ï¼ˆå›¾Bä¸­çš„çº¢ç‚¹ï¼‰çš„åˆ—è¡¨ï¼Œå®ƒä»¬å”¯ä¸€åœ°å®šä¹‰äº†å¤©é™…çº¿ã€‚å…³é”®ç‚¹</span></span><br><span class="line"><span class="comment">//æ˜¯æ°´å¹³çº¿æ®µçš„å·¦ç«¯ç‚¹ã€‚è¯·æ³¨æ„ï¼Œæœ€å³ä¾§å»ºç­‘ç‰©çš„æœ€åä¸€ä¸ªå…³é”®ç‚¹ä»…ç”¨äºæ ‡è®°å¤©é™…çº¿çš„ç»ˆç‚¹ï¼Œå¹¶å§‹ç»ˆä¸ºé›¶é«˜åº¦ã€‚æ­¤å¤–ï¼Œä»»ä½•ä¸¤ä¸ªç›¸é‚»å»ºç­‘ç‰©ä¹‹é—´çš„åœ°é¢éƒ½åº”è¢«è§†ä¸ºå¤©é™…çº¿è½®å»“çš„ä¸€éƒ¨åˆ†ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œå›¾Bä¸­çš„å¤©é™…çº¿åº”è¯¥è¡¨ç¤ºä¸ºï¼š[ [2 10], [3 15], [7 12], [12 0], [15 10], [20 8], [24, 0] ]ã€‚</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¯´æ˜: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// ä»»ä½•è¾“å…¥åˆ—è¡¨ä¸­çš„å»ºç­‘ç‰©æ•°é‡ä¿è¯åœ¨ [0, 10000] èŒƒå›´å†…ã€‚ </span></span><br><span class="line"><span class="comment">// è¾“å…¥åˆ—è¡¨å·²ç»æŒ‰å·¦ x åæ ‡ Li è¿›è¡Œå‡åºæ’åˆ—ã€‚ </span></span><br><span class="line"><span class="comment">// è¾“å‡ºåˆ—è¡¨å¿…é¡»æŒ‰ x ä½æ’åºã€‚ </span></span><br><span class="line"><span class="comment">// è¾“å‡ºå¤©é™…çº¿ä¸­ä¸å¾—æœ‰è¿ç»­çš„ç›¸åŒé«˜åº¦çš„æ°´å¹³çº¿ã€‚ä¾‹å¦‚ [...[2 3], [4 5], [7 5], [11 5], [12 7]...] æ˜¯ä¸æ­£ç¡®çš„ç­”æ¡ˆï¼›ä¸‰</span></span><br><span class="line"><span class="comment">//æ¡é«˜åº¦ä¸º 5 çš„çº¿åº”è¯¥åœ¨æœ€ç»ˆè¾“å‡ºä¸­åˆå¹¶ä¸ºä¸€ä¸ªï¼š[...[2 3], [4 5], [12 7], ...] </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics å † æ ‘çŠ¶æ•°ç»„ çº¿æ®µæ ‘ åˆ†æ²»ç®—æ³• Line Sweep </span></span><br><span class="line"><span class="comment">// ğŸ‘ 247 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P218TheSkylineProblem</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P218TheSkylineProblem().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.getSkyline(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">2</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,&#123;<span class="number">3</span>,<span class="number">7</span>,<span class="number">15</span>&#125;,&#123;<span class="number">5</span>,<span class="number">12</span>,<span class="number">12</span>&#125;,&#123;<span class="number">15</span>,<span class="number">20</span>,<span class="number">10</span>&#125;,&#123;<span class="number">19</span>,<span class="number">24</span>,<span class="number">8</span>&#125;&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 1: æ‰«æçº¿æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨æ‰«æçº¿ï¼Œä»å·¦å¾€å³æ‰«è¿‡ã€‚å¦‚æœé‡åˆ°å·¦ç«¯ç‚¹ï¼Œå°†é«˜åº¦å…¥å †ï¼Œå¦‚æœé‡åˆ°å³ç«¯ç‚¹ï¼Œåˆ™å°†é«˜åº¦ä»å †ä¸­åˆ é™¤ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; getSkyline(<span class="keyword">int</span>[][] buildings) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®xè½´ä»å°åˆ°å¤§æ’åºï¼Œå¦‚æœxç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§é«˜åº¦ä»ä½åˆ°é«˜æ’åº</span></span><br><span class="line">            PriorityQueue&lt;<span class="keyword">int</span>[]&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a,b)-&gt;a[<span class="number">0</span>]!=b[<span class="number">0</span>]? a[<span class="number">0</span>]-b[<span class="number">0</span>] : a[<span class="number">1</span>]-b[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] building: buildings)&#123;</span><br><span class="line">                <span class="comment">// å·¦ç«¯ç‚¹å’Œé«˜åº¦å…¥é˜Ÿï¼Œé«˜åº¦ä¸ºè´Ÿå€¼åˆ™è¯´æ˜æ˜¯å·¦ç«¯ç‚¹</span></span><br><span class="line">                pq.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;building[<span class="number">0</span>], -building[<span class="number">2</span>]&#125;);</span><br><span class="line">                <span class="comment">// å³ç«¯ç‚¹å’Œé«˜åº¦å…¥é˜Ÿ</span></span><br><span class="line">                pq.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;building[<span class="number">1</span>], building[<span class="number">2</span>]&#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é™åºæ’åˆ—</span></span><br><span class="line">            TreeMap&lt;Integer,Integer&gt; heights = <span class="keyword">new</span> TreeMap&lt;&gt;((a,b) -&gt; b-a);</span><br><span class="line">            <span class="comment">// å»ºç­‘ç‰©æœ€å³ç«¯ç«¯ç‚¹ é«˜åº¦ä¸º0</span></span><br><span class="line">            heights.put(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> left=<span class="number">0</span>, height=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(!pq.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">int</span>[] arr = pq.poll();</span><br><span class="line">                <span class="comment">// å¦‚æœæ˜¯å·¦ç«¯ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(arr[<span class="number">1</span>]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">// é«˜åº¦--&gt;é«˜åº¦+1(è¡¨ç¤ºå·²è®°å½•è¯¥å»ºç­‘å·¦ä¾§)</span></span><br><span class="line">                    heights.put(-arr[<span class="number">1</span>], heights.getOrDefault(-arr[<span class="number">1</span>],<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å³ç«¯ç‚¹</span></span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">// é«˜åº¦--&gt;é«˜åº¦-1(è¡¨ç¤ºå·²è®°å½•è¯¥å»ºç­‘å³ä¾§)</span></span><br><span class="line">                    heights.put(arr[<span class="number">1</span>], heights.get(arr[<span class="number">1</span>])-<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">// è¯´æ˜è¯¥å»ºç­‘å·¦å³ç«¯ç‚¹éƒ½å·²ç»éå†å®Œ</span></span><br><span class="line">                    <span class="keyword">if</span>(heights.get(arr[<span class="number">1</span>])==<span class="number">0</span>)</span><br><span class="line">                        heights.remove(arr[<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// heightsæ˜¯ä»¥é™åºçš„æ–¹å¼æ’åˆ—çš„ï¼Œæ‰€ä»¥ä»¥ä¸‹ä¼šè·å¾—æœ€å¤§é«˜åº¦</span></span><br><span class="line">                <span class="keyword">int</span> maxHeight = heights.keySet().iterator().next();</span><br><span class="line">                <span class="comment">// å¦‚æœæœ€å¤§é«˜åº¦ä¸å˜ï¼Œåˆ™è¯´æ˜å½“å‰å»ºç­‘é«˜åº¦åœ¨ä¸€ä¸ªæ¯”å®ƒé«˜çš„å»ºç­‘ä¸‹é¢ï¼Œä¸åšæ“ä½œ</span></span><br><span class="line">                <span class="keyword">if</span>(maxHeight != height)&#123;</span><br><span class="line">                    left = arr[<span class="number">0</span>];</span><br><span class="line">                    height = maxHeight;</span><br><span class="line">                    ans.add(Arrays.asList(left,height));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlly1ghig1sjd9vg313o0mmnm4.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td c
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="åˆ†æ²»ç®—æ³•" scheme="http://yoursite.com/tags/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="å †" scheme="http://yoursite.com/tags/%E5%A0%86/"/>
    
      <category term="æ ‘çŠ¶æ•°ç»„" scheme="http://yoursite.com/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
    
      <category term="çº¿æ®µæ ‘" scheme="http://yoursite.com/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
      <category term="Line Sweep" scheme="http://yoursite.com/tags/Line-Sweep/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-478 Generate Random Point In A Circle</title>
    <link href="http://yoursite.com/2020/08/06/leetcode_old/2020-08-06-LeetCode-478-Generate-Random-Point-In-A-Circle/"/>
    <id>http://yoursite.com/2020/08/06/leetcode_old/2020-08-06-LeetCode-478-Generate-Random-Point-In-A-Circle/</id>
    <published>2020-08-06T07:20:00.000Z</published>
    <updated>2020-08-07T10:47:24.255Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šåœ†çš„åŠå¾„å’Œåœ†å¿ƒçš„ xã€y åæ ‡ï¼Œå†™ä¸€ä¸ªåœ¨åœ†ä¸­äº§ç”Ÿå‡åŒ€éšæœºç‚¹çš„å‡½æ•° randPoint ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¯´æ˜: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// è¾“å…¥å€¼å’Œè¾“å‡ºå€¼éƒ½å°†æ˜¯æµ®ç‚¹æ•°ã€‚ </span></span><br><span class="line"><span class="comment">// åœ†çš„åŠå¾„å’Œåœ†å¿ƒçš„ xã€y åæ ‡å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ç±»çš„æ„é€ å‡½æ•°ã€‚ </span></span><br><span class="line"><span class="comment">// åœ†å‘¨ä¸Šçš„ç‚¹ä¹Ÿè®¤ä¸ºæ˜¯åœ¨åœ†ä¸­ã€‚ </span></span><br><span class="line"><span class="comment">// randPoint è¿”å›ä¸€ä¸ªåŒ…å«éšæœºç‚¹çš„xåæ ‡å’Œyåæ ‡çš„å¤§å°ä¸º2çš„æ•°ç»„ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","randPoint","randPoint","randPoint"]</span></span><br><span class="line"><span class="comment">//[[1,0,0],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,[-0.72939,-0.65505],[-0.78502,-0.28626],[-0.83119,-0.19803]]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","randPoint","randPoint","randPoint"]</span></span><br><span class="line"><span class="comment">//[[10,5,-7.5],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,[11.52438,-8.33273],[2.46992,-16.21705],[11.13430,-12.42337]] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥è¯­æ³•è¯´æ˜ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼šè°ƒç”¨æˆå‘˜å‡½æ•°åå’Œè°ƒç”¨çš„å‚æ•°ã€‚Solution çš„æ„é€ å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåœ†çš„åŠå¾„ã€åœ†å¿ƒçš„ x åæ ‡ã€åœ†å¿ƒçš„ y åæ ‡ã€‚randPoint æ²¡æœ‰</span></span><br><span class="line"><span class="comment">//å‚æ•°ã€‚è¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå³ä½¿å‚æ•°ä¸ºç©ºï¼Œä¹Ÿä¼šè¾“å…¥ä¸€ä¸ª [] ç©ºåˆ—è¡¨ã€‚ </span></span><br><span class="line"><span class="comment">// Related Topics æ•°å­¦ Random Rejection Sampling </span></span><br><span class="line"><span class="comment">// ğŸ‘ 32 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P478GenerateRandomPointInACircle</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P478GenerateRandomPointInACircle().<span class="keyword">new</span> Solution(<span class="number">10</span>, <span class="number">5</span>, -<span class="number">7.5</span>);</span><br><span class="line">        System.out.println(Arrays.toString(solution.randPoint()));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 1: æ‹’ç»é‡‡æ ·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * T: æœŸæœ›æ—¶é—´å¤æ‚åº¦O(1)  S: O(1)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨æ­£æ–¹å½¢ä¸­å–éšæœºç‚¹ï¼Œåœ†å¤–æ­£æ–¹å½¢å†…çš„ç‚¹æ‹’ç»ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> xc;</span><br><span class="line">        <span class="keyword">double</span> yc;</span><br><span class="line">        <span class="keyword">double</span> r;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">double</span> radius, <span class="keyword">double</span> x_center, <span class="keyword">double</span> y_center)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.xc = x_center;</span><br><span class="line">            <span class="keyword">this</span>.yc = y_center;</span><br><span class="line">            <span class="keyword">this</span>.r = radius;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">double</span>[] randPoint() &#123;</span><br><span class="line">            <span class="comment">// æ­£æ–¹å½¢å·¦ä¸‹è§’çš„ç‚¹åæ ‡</span></span><br><span class="line">            <span class="keyword">double</span> x0 = xc - r;</span><br><span class="line">            <span class="keyword">double</span> y0 = yc - r;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                <span class="keyword">double</span> xr = x0 + Math.random()*<span class="number">2</span>*r;</span><br><span class="line">                <span class="keyword">double</span> yr = y0 + Math.random()*<span class="number">2</span>*r;</span><br><span class="line">                <span class="keyword">if</span>(Math.sqrt(Math.pow(xr-xc, <span class="number">2</span>) + Math.pow(yr-yc, <span class="number">2</span>)) &lt;= r)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[]&#123;xr,yr&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Your Solution object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">     * Solution obj = new Solution(radius, x_center, y_center);</span></span><br><span class="line"><span class="comment">     * double[] param_1 = obj.randPoint();</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°å­¦" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="Random Rejection Sampling" scheme="http://yoursite.com/tags/Random-Rejection-Sampling/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-519 Random Flip Matrix</title>
    <link href="http://yoursite.com/2020/08/06/leetcode_old/2020-08-05-Leetcode-519-Random-Flip-Matrix/"/>
    <id>http://yoursite.com/2020/08/06/leetcode_old/2020-08-05-Leetcode-519-Random-Flip-Matrix/</id>
    <published>2020-08-06T03:48:00.000Z</published>
    <updated>2020-08-07T10:43:30.372Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¢˜ä¸­ç»™å‡ºä¸€ä¸ª n_rows è¡Œ n_cols åˆ—çš„äºŒç»´çŸ©é˜µï¼Œä¸”æ‰€æœ‰å€¼è¢«åˆå§‹åŒ–ä¸º 0ã€‚è¦æ±‚ç¼–å†™ä¸€ä¸ª flip å‡½æ•°ï¼Œå‡åŒ€éšæœºçš„å°†çŸ©é˜µä¸­çš„ 0 å˜ä¸º 1ï¼Œå¹¶è¿”å›</span></span><br><span class="line"><span class="comment">//è¯¥å€¼çš„ä½ç½®ä¸‹æ ‡ [row_id,col_id]ï¼›åŒæ ·ç¼–å†™ä¸€ä¸ª reset å‡½æ•°ï¼Œå°†æ‰€æœ‰çš„å€¼éƒ½é‡æ–°ç½®ä¸º 0ã€‚å°½é‡æœ€å°‘è°ƒç”¨éšæœºå‡½æ•° Math.random()ï¼Œå¹¶ä¸”</span></span><br><span class="line"><span class="comment">//ä¼˜åŒ–æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ³¨æ„: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1 &lt;= n_rows, n_cols &lt;= 10000 </span></span><br><span class="line"><span class="comment">// 0 &lt;= row.id &lt; n_rows å¹¶ä¸” 0 &lt;= col.id &lt; n_cols </span></span><br><span class="line"><span class="comment">// å½“çŸ©é˜µä¸­æ²¡æœ‰å€¼ä¸º 0 æ—¶ï¼Œä¸å¯ä»¥è°ƒç”¨ flip å‡½æ•° </span></span><br><span class="line"><span class="comment">// è°ƒç”¨ flip å’Œ reset å‡½æ•°çš„æ¬¡æ•°åŠ èµ·æ¥ä¸ä¼šè¶…è¿‡ 1000 æ¬¡ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","flip","flip","flip","flip"]</span></span><br><span class="line"><span class="comment">//[[2,3],[],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,[0,1],[1,2],[1,0],[1,1]]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","flip","flip","reset","flip"]</span></span><br><span class="line"><span class="comment">//[[1,2],[],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,[0,0],[0,1],null,[0,0]] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥è¯­æ³•è§£é‡Šï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥åŒ…å«ä¸¤ä¸ªåˆ—è¡¨ï¼šè¢«è°ƒç”¨çš„å­ç¨‹åºå’Œä»–ä»¬çš„å‚æ•°ã€‚Solution çš„æ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸º n_rows å’Œ n_colsã€‚flip å’Œ reset æ²¡</span></span><br><span class="line"><span class="comment">//æœ‰å‚æ•°ï¼Œå‚æ•°æ€»ä¼šä»¥åˆ—è¡¨å½¢å¼ç»™å‡ºï¼Œå“ªæ€•è¯¥åˆ—è¡¨ä¸ºç©º </span></span><br><span class="line"><span class="comment">// Related Topics Random </span></span><br><span class="line"><span class="comment">// ğŸ‘ 22 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P519RandomFlipMatrix</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P519RandomFlipMatrix().<span class="keyword">new</span> Solution(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">        System.out.println(Arrays.toString(solution.flip()));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 1: æ˜ å°„æˆä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * è€ƒè™‘ä¸€ä¸ªé•¿åº¦ä¸ºn_rows*n_colsçš„ä¸€ç»´æ•°ç»„Vï¼Œå¯¹äºçŸ©é˜µä¸­çš„ä½ç½®(i,j)ï¼Œå¯¹åº”äºVä¸­çš„å…ƒç´ V[i*n_cols + j]ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨ç¿»è½¬æ“ä½œä¸­ï¼Œä¿®æ”¹Vä¸çŸ©é˜µçš„æ˜ å°„ï¼Œä½¿å¾—å½“çŸ©é˜µä¸­æœ‰kä¸ª0(å³è¿›è¡Œäº†kæ¬¡ç¿»è½¬å)æ—¶ï¼ŒV[0..k-1]æ˜ å°„åˆ°çŸ©é˜µä¸­çš„0ï¼Œè€Œ</span></span><br><span class="line"><span class="comment">     * V[k..]æ˜ å°„åˆ°çŸ©é˜µä¸­çš„1ã€‚ åˆ™å½“æˆ‘ä»¬è¿›è¡Œä¸‹ä¸€æ¬¡ç¿»è½¬æ“ä½œæ—¶ï¼Œåªéœ€è¦åœ¨[0,k)è¿™ä¸ªåŒºé—´ç”Ÿæˆéšæœºæ•°xï¼Œå¹¶å°†V[x]æ˜ å°„åˆ°</span></span><br><span class="line"><span class="comment">     * çš„ä½ç½®è¿›è¡Œç¿»è½¬å³å¯ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨å°†V[x]è¿›è¡Œç¿»è½¬åï¼Œæ­¤æ—¶çŸ©é˜µä¸­æœ‰k-1ä¸ª0ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿è¯V[0..k-2]éƒ½æ˜ å°„åˆ°çŸ©é˜µä¸­çš„0ã€‚ç”±äºæ­¤æ—¶V[x]æ˜ å°„åˆ°</span></span><br><span class="line"><span class="comment">     * çŸ©é˜µä¸­çš„1ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†V[x]ä¸V[k-1]çš„å€¼è¿›è¡Œäº¤æ¢ã€‚å³å°†è¿™ä¸ªæ–°ç¿»è½¬çš„1çš„ä½ç½®ä½œä¸ºV[k-1]çš„æ˜ å°„ï¼Œè€ŒæŠŠåŸæœ¬</span></span><br><span class="line"><span class="comment">     * V[k-1]æ˜ å°„åˆ°çš„0çš„ä½ç½®äº¤ç»™xã€‚è¿™æ ·å°±ä¿è¯äº†åœ¨æ¯ä¸€æ¬¡ç¿»è½¬æ“ä½œåï¼ŒVä¸­çš„å‰kä¸ªå…ƒç´ æ°å¥½æ˜ å°„åˆ°çŸ©é˜µä¸­çš„æ‰€æœ‰kä¸ª0ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Vä¸­çš„å¤§éƒ¨åˆ†æ˜ å°„å…³ç³»æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼ŒçŸ©é˜µä¸­çš„(i,j)æ˜ å°„åˆ°V[i*n_cols+j]ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ä»…å­˜å‚¨é‚£äº›</span></span><br><span class="line"><span class="comment">     * è¢«ä¿®æ”¹äº†çš„æ˜ å°„ã€‚å¯¹äºä¸€ä¸ªæ•°xï¼Œå¦‚æœxä¸æ˜¯HashMapä¸­çš„ä¸€ä¸ªé”®ï¼Œé‚£ä¹ˆå®ƒç›´æ¥æ˜ å°„åˆ°æœ€å¼€å§‹çš„(x/n_cols,x%n_cols);</span></span><br><span class="line"><span class="comment">     * å¦‚æœxæ˜¯HashMapä¸­çš„ä¸€ä¸ªé”®ï¼Œé‚£ä¹ˆå®ƒæ˜ å°„åˆ°å…¶åœ¨HashMapä¸­å¯¹åº”çš„å€¼ã€‚è¿™æ ·è¿™ä¸ªHashMapçš„å¤§å°ä»…å’Œç¿»è½¬æ¬¡æ•°æˆæ­£æ¯”ã€‚</span></span><br><span class="line"><span class="comment">     * å› ä¸ºæ¯ä¸€æ¬¡ç¿»è½¬æ“ä½œæˆ‘ä»¬ä¼šäº¤æ¢Vä¸­ä¸¤ä¸ªå…ƒç´ çš„æ˜ å°„ï¼Œå³æœ€å¤šæœ‰ä¸¤ä¸ªå…ƒç´ çš„æ˜ å°„å…³ç³»è¢«ä¿®æ”¹ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; V = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> nr, nc, rem;</span><br><span class="line">        Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> n_rows, <span class="keyword">int</span> n_cols)</span> </span>&#123;</span><br><span class="line">            nr = n_rows;</span><br><span class="line">            nc = n_cols;</span><br><span class="line">            rem = nr*nc;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] flip() &#123;</span><br><span class="line">            <span class="keyword">int</span> r = rand.nextInt(rem--);</span><br><span class="line">            <span class="comment">// å¦‚æœmapä¸­æœ‰key=pos,åˆ™pos=map[pos],å¦‚æœæ²¡æœ‰,poså°±æ˜¯pos.</span></span><br><span class="line">            <span class="comment">// è¿˜éœ€è¦æŠŠå½“å‰å–çš„ä½ç½®çš„ mapçš„ value æ›´æ–°ä¸ºæœ€åä¸€ä¸ªä½ç½®çš„ï¼Œä¸‹ä¸€è½®ï¼Œæœ€åé‚£ä¸ªä½ç½®å°±è·³è¿‡äº†.</span></span><br><span class="line">            <span class="keyword">int</span> x = V.getOrDefault(r, r);</span><br><span class="line">            V.put(r, V.getOrDefault(rem, rem));</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x/nc, x%nc&#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            V.clear();</span><br><span class="line">            rem = nr*nc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Your Solution object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">     * Solution obj = new Solution(n_rows, n_cols);</span></span><br><span class="line"><span class="comment">     * int[] param_1 = obj.flip();</span></span><br><span class="line"><span class="comment">     * obj.reset();</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="Random" scheme="http://yoursite.com/tags/Random/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-497 Random Point In Non-Overlapping Rectangles</title>
    <link href="http://yoursite.com/2020/08/06/leetcode_old/2020-08-06-LeetCode-497-Random-Point-In-Non-Overlapping-Rectangles/"/>
    <id>http://yoursite.com/2020/08/06/leetcode_old/2020-08-06-LeetCode-497-Random-Point-In-Non-Overlapping-Rectangles/</id>
    <published>2020-08-06T02:50:00.000Z</published>
    <updated>2020-08-07T10:45:52.164Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªéé‡å è½´å¯¹é½çŸ©å½¢çš„åˆ—è¡¨ rectsï¼Œå†™ä¸€ä¸ªå‡½æ•° pick éšæœºå‡åŒ€åœ°é€‰å–çŸ©å½¢è¦†ç›–çš„ç©ºé—´ä¸­çš„æ•´æ•°ç‚¹ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// æ•´æ•°ç‚¹æ˜¯å…·æœ‰æ•´æ•°åæ ‡çš„ç‚¹ã€‚ </span></span><br><span class="line"><span class="comment">// çŸ©å½¢å‘¨è¾¹ä¸Šçš„ç‚¹åŒ…å«åœ¨çŸ©å½¢è¦†ç›–çš„ç©ºé—´ä¸­ã€‚ </span></span><br><span class="line"><span class="comment">// ç¬¬ i ä¸ªçŸ©å½¢ rects [i] = [x1ï¼Œy1ï¼Œx2ï¼Œy2]ï¼Œå…¶ä¸­ [x1ï¼Œy1] æ˜¯å·¦ä¸‹è§’çš„æ•´æ•°åæ ‡ï¼Œ[x2ï¼Œy2] æ˜¯å³ä¸Šè§’çš„æ•´æ•°åæ ‡ã€‚ </span></span><br><span class="line"><span class="comment">// æ¯ä¸ªçŸ©å½¢çš„é•¿åº¦å’Œå®½åº¦ä¸è¶…è¿‡ 2000ã€‚ </span></span><br><span class="line"><span class="comment">// 1 &lt;= rects.length &lt;= 100 </span></span><br><span class="line"><span class="comment">// pick ä»¥æ•´æ•°åæ ‡æ•°ç»„ [p_x, p_y] çš„å½¢å¼è¿”å›ä¸€ä¸ªç‚¹ã€‚ </span></span><br><span class="line"><span class="comment">// pick æœ€å¤šè¢«è°ƒç”¨10000æ¬¡ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[[[1,1,5,5]]],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: </span></span><br><span class="line"><span class="comment">//[null,[4,1],[4,1],[3,3]]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[[[-2,-2,-1,-1],[1,0,3,0]]],[],[],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: </span></span><br><span class="line"><span class="comment">//[null,[-1,-2],[2,0],[-2,-1],[3,0],[-2,-2]] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥è¯­æ³•çš„è¯´æ˜ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼šè°ƒç”¨çš„å­ä¾‹ç¨‹åŠå…¶å‚æ•°ã€‚Solution çš„æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå³çŸ©å½¢æ•°ç»„ rectsã€‚pick æ²¡æœ‰å‚æ•°ã€‚å‚æ•°æ€»æ˜¯ç”¨åˆ—è¡¨åŒ…è£…çš„ï¼Œå³ä½¿æ²¡æœ‰ä¹Ÿ</span></span><br><span class="line"><span class="comment">//æ˜¯å¦‚æ­¤ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics äºŒåˆ†æŸ¥æ‰¾ Random </span></span><br><span class="line"><span class="comment">// ğŸ‘ 21 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P497RandomPointInNonOverlappingRectangles</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P497RandomPointInNonOverlappingRectangles().<span class="keyword">new</span> Solution(<span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">5</span>&#125;&#125;);</span><br><span class="line">        System.out.println(Arrays.toString(solution.pick()));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution: äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">     * T: é¢„å¤„ç†çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N), éšæœºé€‰å–çš„å•æ¬¡æ—¶é—´å¤æ‚åº¦ä¸ºO(logN).</span></span><br><span class="line"><span class="comment">     * S: O(N)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å‡è®¾ç”¨w[i]è¡¨ç¤ºç¬¬iä¸ªçŸ©å½¢rect[i]ä¸­æ•´æ•°ç‚¹çš„æ•°ç›®ï¼Œéšæœºç®—æ³•éœ€è¦ä½¿å¾—æ¯ä¸ªçŸ©å½¢è¢«é€‰åˆ°çš„æ¦‚ç‡ä¸w[i]æˆæ­£æ¯”ã€‚å› æ­¤</span></span><br><span class="line"><span class="comment">     * rect[i]è¢«é€‰åˆ°çš„æ¦‚ç‡åº”è¯¥ä¸ºw[i]/sum(w[i])ï¼Œå…¶ä¸­sum(w[i])è¡¨ç¤ºç©ºé—´ä¸­çš„æ•´æ•°ç‚¹æ•°ç›®ä¹‹å’Œã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ä»¤total=sum(w[i])ï¼Œå¯ä»¥åœ¨[0,total)åŒºé—´ç”Ÿæˆéšæœºæ•´æ•°ï¼Œå‡è®¾ç”Ÿæˆçš„æ•°ä¸ºxï¼Œé‚£ä¹ˆéœ€è¦æ‰¾åˆ°æ»¡è¶³prefix(w[i-1])</span></span><br><span class="line"><span class="comment">     * &lt;= x &lt; prefix(w[i])çš„i, å…¶ä¸­prefix(w[i])è¡¨ç¤ºå‰iä¸ªçŸ©å½¢ä¸­æ•´æ•°ç‚¹çš„æ•°ç›®ä¹‹å’Œã€‚æ­¤æ—¶é€‰ä¸­äº†ç¬¬iä¸ªçŸ©å½¢ï¼Œå°±</span></span><br><span class="line"><span class="comment">     * å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾å‡ºå¯¹åº”çš„iã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨é€‰ä¸­äº†ç¬¬iä¸ªçŸ©å½¢åï¼Œä¹Ÿå¯ä»¥åœ¨[0,w[i])ä¸­å†æ¬¡ç”Ÿæˆéšæœºæ•°ï¼Œæ¥åœ¨è¿™ä¸ªçŸ©å½¢ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªç‚¹ã€‚ä½†æ›´å¥½çš„åšæ³•æ˜¯ä»ç„¶</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨ä¹‹å‰ç”Ÿæˆçš„æ•°x, ä»¤y=x-prefix(w[i-1])ï¼Œåªéœ€è¦é€‰æ‹©ç¬¬iä¸ªçŸ©å½¢ä¸­çš„ç¬¬yä¸ªç‚¹å³å¯ã€‚å¯¹åº”çš„åæ ‡ä¸ºï¼š</span></span><br><span class="line"><span class="comment">     * x_coord = x_start + y%(x_end-x_start+1)</span></span><br><span class="line"><span class="comment">     * y_coord = y_start + y/(x_end-x_start+1)</span></span><br><span class="line"><span class="comment">     * ç›¸å½“äºæŠŠç¬¬iä¸ªçŸ©å½¢ä¸­çš„åæ ‡æŒ‰ç…§yè½´ä¼˜å…ˆçš„é¡ºåºä¾æ¬¡æ’åˆ—ï¼Œæ¯ä¸€ä¸ªç‚¹éƒ½å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹å¼æ¢å¤åˆ°çŸ©å½¢ä¸­çš„åæ ‡ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å¦‚ï¼š</span></span><br><span class="line"><span class="comment">     * 6 7</span></span><br><span class="line"><span class="comment">     * 4 5</span></span><br><span class="line"><span class="comment">     * 2 3</span></span><br><span class="line"><span class="comment">     * 0 1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] rects;  <span class="comment">// çŸ©é˜µåˆ—è¡¨</span></span><br><span class="line">        List&lt;Integer&gt; psum = <span class="keyword">new</span> ArrayList&lt;&gt;();  <span class="comment">// çŸ©å½¢æ•´æ•°ç‚¹å‰ç¼€å’Œåˆ—è¡¨</span></span><br><span class="line">        <span class="keyword">int</span> total = <span class="number">0</span>;  <span class="comment">// æ€»æ•´æ•°ç‚¹</span></span><br><span class="line">        Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[][] rects)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.rects = rects;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span>[] x:rects)&#123;</span><br><span class="line">                total += (x[<span class="number">2</span>]-x[<span class="number">0</span>]+<span class="number">1</span>)*(x[<span class="number">3</span>]-x[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">                psum.add(total);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] pick() &#123;</span><br><span class="line">            <span class="keyword">int</span> targ = rand.nextInt(total);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> left=<span class="number">0</span>, right=rects.length-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left!=right)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(targ&gt;=psum.get(mid))</span><br><span class="line">                    left = mid+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    right = mid;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span>[] x = rects[left];</span><br><span class="line">            <span class="keyword">int</span> width = x[<span class="number">2</span>]-x[<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> height = x[<span class="number">3</span>]-x[<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> base = psum.get(left) - width*height; <span class="comment">// predix(w[i-1])</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x[<span class="number">0</span>]+(targ-base)%width, x[<span class="number">1</span>]+(targ-base)/width&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="Random" scheme="http://yoursite.com/tags/Random/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-528 Random Pick With Weight</title>
    <link href="http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-Leetcode-528-Random-Pick-With-Weight/"/>
    <id>http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-Leetcode-528-Random-Pick-With-Weight/</id>
    <published>2020-08-05T15:48:00.000Z</published>
    <updated>2020-08-07T10:42:11.846Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ w ï¼Œå…¶ä¸­ w[i] ä»£è¡¨ä½ç½® i çš„æƒé‡ï¼Œè¯·å†™ä¸€ä¸ªå‡½æ•° pickIndex ï¼Œå®ƒå¯ä»¥éšæœºåœ°è·å–ä½ç½® iï¼Œé€‰å–ä½ç½® i çš„æ¦‚ç‡ä¸ w[i</span></span><br><span class="line"><span class="comment">//] æˆæ­£æ¯”ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªå€¼ [1ï¼Œ9] çš„è¾“å…¥åˆ—è¡¨ï¼Œå½“æˆ‘ä»¬ä»ä¸­é€‰æ‹©ä¸€ä¸ªæ•°å­—æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½ 10 æ¬¡ä¸­æœ‰ 9 æ¬¡åº”è¯¥é€‰æ‹©æ•°å­— 9 ä½œä¸ºç­”æ¡ˆã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š</span></span><br><span class="line"><span class="comment">//["Solution","pickIndex"]</span></span><br><span class="line"><span class="comment">//[[[1]],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š[null,0]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š</span></span><br><span class="line"><span class="comment">//["Solution","pickIndex","pickIndex","pickIndex","pickIndex","pickIndex"]</span></span><br><span class="line"><span class="comment">//[[[1,3]],[],[],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š[null,0,1,1,1,0] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥è¯­æ³•è¯´æ˜ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼šè°ƒç”¨æˆå‘˜å‡½æ•°åå’Œè°ƒç”¨çš„å‚æ•°ã€‚Solution çš„æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå³æ•°ç»„ wã€‚pickIndex æ²¡æœ‰å‚æ•°ã€‚è¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå³ä½¿å‚æ•°</span></span><br><span class="line"><span class="comment">//ä¸ºç©ºï¼Œä¹Ÿä¼šè¾“å…¥ä¸€ä¸ª [] ç©ºåˆ—è¡¨ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤ºï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1 &lt;= w.length &lt;= 10000 </span></span><br><span class="line"><span class="comment">// 1 &lt;= w[i] &lt;= 10^5 </span></span><br><span class="line"><span class="comment">// pickIndex å°†è¢«è°ƒç”¨ä¸è¶…è¿‡ 10000 æ¬¡ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics äºŒåˆ†æŸ¥æ‰¾ Random </span></span><br><span class="line"><span class="comment">// ğŸ‘ 42 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P528RandomPickWithWeight</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P528RandomPickWithWeight().<span class="keyword">new</span> Solution(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>&#125;);</span><br><span class="line">        System.out.println(solution.pickIndex());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution: å‰ç¼€å’Œ+äºŒåˆ†æœç´¢</span></span><br><span class="line"><span class="comment">     * T: O(N)çš„é¢„å¤„ç†.pickIndexéœ€è¦O(log(N))</span></span><br><span class="line"><span class="comment">     * S: O(N)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 1. total = âˆ‘(0,len-1)w[i]. æ±‚å‡ºæƒé‡å’Œ.</span></span><br><span class="line"><span class="comment">     * 2. æ±‚å‡ºå‰ç¼€å’Œæ•°ç»„p, p[x]=âˆ‘(0,x) w[i].</span></span><br><span class="line"><span class="comment">     * 3. åœ¨èŒƒå›´[0,total)ä¸­éšæœºé€‰å–ä¸€ä¸ªæ•´æ•°targ, ä½¿ç”¨äºŒåˆ†æœç´¢æ¥æ‰¾åˆ°ä¸‹æ ‡xï¼Œå…¶ä¸­xæ˜¯æ»¡è¶³targ&lt;p[x]çš„æœ€å°ä¸‹æ ‡.</span></span><br><span class="line"><span class="comment">     * 4. p[x]-w[x] &lt;= targ &lt; p[x]çš„æ•´æ•°v æ˜ å°„åˆ° è¿™ä¸ªä¸‹æ ‡xï¼Œç”±æ­¤å®Œæˆä¸‹æ ‡ä¸ä¸‹æ ‡æƒé‡æˆæ¯”ä¾‹çš„æ˜ å°„ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; psum = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line">        Random r = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] w)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x:w)&#123;</span><br><span class="line">                total += x;</span><br><span class="line">                psum.add(total);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pickIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> targ = r.nextInt(total);</span><br><span class="line">            <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> right = psum.size()-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(left!=right)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(targ &gt;= psum.get(mid))</span><br><span class="line">                    left = mid+<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Your Solution object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">     * Solution obj = new Solution(w);</span></span><br><span class="line"><span class="comment">     * int param_1 = obj.pickIndex();</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="Random" scheme="http://yoursite.com/tags/Random/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-470 Implement Rand10 Using Rand7</title>
    <link href="http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-LeetCode-470-Implement-Rand10-Using-Rand7/"/>
    <id>http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-LeetCode-470-Implement-Rand10-Using-Rand7/</id>
    <published>2020-08-05T12:50:00.000Z</published>
    <updated>2020-08-07T10:37:33.473Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å·²æœ‰æ–¹æ³• rand7 å¯ç”Ÿæˆ 1 åˆ° 7 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ï¼Œè¯•å†™ä¸€ä¸ªæ–¹æ³• rand10 ç”Ÿæˆ 1 åˆ° 10 èŒƒå›´å†…çš„å‡åŒ€éšæœºæ•´æ•°ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¸è¦ä½¿ç”¨ç³»ç»Ÿçš„ Math.random() æ–¹æ³•ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: 1</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [7]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: 2</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [8,4]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 3: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: 3</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [8,1,10]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤º: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// rand7 å·²å®šä¹‰ã€‚ </span></span><br><span class="line"><span class="comment">// ä¼ å…¥å‚æ•°: n è¡¨ç¤º rand10 çš„è°ƒç”¨æ¬¡æ•°ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¿›é˜¶: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// rand7()è°ƒç”¨æ¬¡æ•°çš„ æœŸæœ›å€¼ æ˜¯å¤šå°‘ ? </span></span><br><span class="line"><span class="comment">// ä½ èƒ½å¦å°½é‡å°‘è°ƒç”¨ rand7() ? </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics Random Rejection Sampling </span></span><br><span class="line"><span class="comment">// ğŸ‘ 102 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P470ImplementRand10UsingRand7</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P470ImplementRand10UsingRand7().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.rand10());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SolBase</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand7</span><span class="params">()</span></span>&#123;</span><br><span class="line">            Random r = <span class="keyword">new</span> Random();</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> + r.nextInt(<span class="number">7</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The rand7() API is already defined in the parent class SolBase.</span></span><br><span class="line"><span class="comment">     * public int rand7();</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a random integer in the range 1 to 7</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 2: åˆç†ä½¿ç”¨è¢«æ‹’ç»çš„éšæœºæ•°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å¯ä»¥åˆç†åˆ©ç”¨è¢«æ‹’ç»çš„é‡‡æ ·ï¼Œæ¥å¯¹æ–¹æ³•ä¸€è¿›è¡Œä¼˜åŒ–.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ä¸€ä¸­ï¼Œç”Ÿæˆäº†[1,49]ä¹‹é—´çš„éšæœºæ•°ï¼Œè€Œ[41,49]èŒƒå›´å†…çš„éšæœºæ•°åˆ™è¢«æ‹’ç»ã€‚åœ¨xè¢«æ‹’ç»çš„æƒ…å†µä¸‹ï¼Œå®é™…ä¸Š</span></span><br><span class="line"><span class="comment">     * æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª[1,9]çš„éšæœºæ•°ï¼Œå¦‚æœå†è°ƒç”¨ä¸€æ¬¡Rand7()ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”Ÿæˆ[1,63](7*9)çš„éšæœºæ•°ã€‚æˆ‘ä»¬</span></span><br><span class="line"><span class="comment">     * ä¿ç•™[1,60]å¹¶æ‹’ç»[61,63]ã€‚è¢«æ‹’ç»çš„æƒ…å†µä¸‹å°†å¾—åˆ°[1,3]çš„éšæœºæ•°ï¼Œæˆ‘ä»¬ç»§ç»­è°ƒç”¨Rand7()ï¼Œç”Ÿæˆ[1,21]</span></span><br><span class="line"><span class="comment">     * çš„éšæœºæ•°ï¼Œä¿ç•™[1,20]å¹¶æ‹’ç»1ï¼Œæ­¤æ—¶[1]å·²ç»æ²¡æœ‰ä»»ä½•ç”¨å¤„ã€‚è‹¥å‡ºç°æ‹’ç»1çš„æƒ…å†µï¼Œåˆ™é‡æ–°å¼€å§‹ç”Ÿæˆ[1,49]</span></span><br><span class="line"><span class="comment">     * çš„éšæœºæ•°ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * E = 2.2123</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> a,b,idx;</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                a=rand7();</span><br><span class="line">                b=rand7();</span><br><span class="line">                idx=b+(a-<span class="number">1</span>)*<span class="number">7</span>;</span><br><span class="line">                <span class="comment">// [1,49]ä¹‹é—´éšæœºæ•°å¦‚æœå¤„äº[1,40]èŒƒå›´å†…</span></span><br><span class="line">                <span class="keyword">if</span>(idx&lt;=<span class="number">40</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>+(idx-<span class="number">1</span>)%<span class="number">10</span>;</span><br><span class="line">                <span class="comment">// [1,49]ä¹‹é—´éšæœºæ•°å¤„äº[41,49]èŒƒå›´å†…ï¼Œè¢«æ‹’ç»ã€‚ç»“åˆRand7()ç”Ÿæˆ[1,63]éšæœºæ•°</span></span><br><span class="line">                a=idx-<span class="number">40</span>;</span><br><span class="line">                b=rand7();</span><br><span class="line">                idx=b+(a-<span class="number">1</span>)*<span class="number">7</span>;</span><br><span class="line">                <span class="comment">// [1,63]ä¹‹é—´éšæœºæ•°å¤„äº[1,60]èŒƒå›´å†…</span></span><br><span class="line">                <span class="keyword">if</span>(idx&lt;=<span class="number">60</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>+(idx-<span class="number">1</span>)%<span class="number">10</span>;</span><br><span class="line">                <span class="comment">// [1,63]ä¹‹é—´éšæœºæ•°å¤„äº[61,63]èŒƒå›´å†…ï¼Œè¢«æ‹’ç»ã€‚ç»“åˆRand7()ç”Ÿæˆ[1,21]éšæœºæ•°</span></span><br><span class="line">                a=idx-<span class="number">60</span>;</span><br><span class="line">                b=rand7();</span><br><span class="line">                idx=b+(a-<span class="number">1</span>)*<span class="number">7</span>;</span><br><span class="line">                <span class="comment">// [1,21]ä¹‹é—´éšæœºæ•°å¦‚æœå¤„äº[1,20]èŒƒå›´å†…ï¼Œåˆ™æ¥å—ã€‚å¦åˆ™ç›´æ¥æ‹’ç»å¹¶é‡æ–°ç”Ÿæˆ[1,49]ä¹‹é—´éšæœºæ•°.</span></span><br><span class="line">                <span class="keyword">if</span>(idx&lt;=<span class="number">20</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>+(idx-<span class="number">1</span>)%<span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 1: æ‹’ç»é‡‡æ ·</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * åœ¨æ‹’ç»é‡‡æ ·ä¸­ï¼Œå¦‚æœç”Ÿæˆçš„éšæœºæ•°æ»¡è¶³è¦æ±‚ï¼Œé‚£ä¹ˆå°±è¿”å›è¯¥éšæœºæ•°ï¼Œå¦åˆ™ä¼šä¸æ–­ç”Ÿæˆç›´åˆ°ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„éšæœºæ•°ä¸ºæ­¢ã€‚</span></span><br><span class="line"><span class="comment"> * å¦‚æœè°ƒç”¨ä¸¤æ¬¡Rand7()ï¼Œé‚£ä¹ˆå¯ä»¥ç”Ÿæˆ[1,49]ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œåªç”¨åˆ°å…¶ä¸­çš„40ä¸ªï¼Œç”¨æ¥å®ç°Rand10()ï¼Œå¹¶æ‹’ç»</span></span><br><span class="line"><span class="comment"> * å‰©ä¸‹çš„9ä¸ªæ•°ã€‚</span></span><br><span class="line"><span class="comment"> *      1  2  3  4  5  6  7</span></span><br><span class="line"><span class="comment"> *   1  1  2  3  4  5  6  7</span></span><br><span class="line"><span class="comment"> *   2  8  9 10  1  2  3  4</span></span><br><span class="line"><span class="comment"> *   3  5  6  7  8  9 10  1</span></span><br><span class="line"><span class="comment"> *   4  2  3  4  5  6  7  8</span></span><br><span class="line"><span class="comment"> *   5  9 10  1  2  3  4  5</span></span><br><span class="line"><span class="comment"> *   6  6  7  8  9  10 *  *</span></span><br><span class="line"><span class="comment"> *   7  *  *  *  *  *  *  *</span></span><br><span class="line"><span class="comment"> * å‡è®¾è¿ç»­è°ƒç”¨ä¸¤æ¬¡Rand7()ä¸ºä¸€è½®ã€‚é‚£ä¹ˆåœ¨ä¸€è½®ä¸­ï¼Œæœ‰40/49çš„æ¦‚ç‡ä¸è¢«æ‹’ç»ï¼Œè€Œæœ‰9/49çš„æ¦‚ç‡è¢«æ‹’ç»å¹¶è¿›å…¥ç¬¬äºŒè½®ã€‚</span></span><br><span class="line"><span class="comment"> * åœ¨ç¬¬äºŒè½®ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› æ­¤è°ƒç”¨Rand7()çš„æœŸæœ›æ¬¡æ•°ä¸º:</span></span><br><span class="line"><span class="comment"> * E = 2 + 2*(9/49) + 2*(9/49)^2 + ...</span></span><br><span class="line"><span class="comment"> *   = 2.45</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution extends P470ImplementRand10UsingRand7.SolBase &#123;</span></span><br><span class="line"><span class="comment">    public int rand10() &#123;</span></span><br><span class="line"><span class="comment">        int row, col, idx;</span></span><br><span class="line"><span class="comment">        do&#123;</span></span><br><span class="line"><span class="comment">            row = rand7();</span></span><br><span class="line"><span class="comment">            col = rand7();</span></span><br><span class="line"><span class="comment">            idx = col + (row-1)*7;</span></span><br><span class="line"><span class="comment">        &#125;while(idx&gt;40);</span></span><br><span class="line"><span class="comment">        return 1+(idx-1)%10;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="Random Rejection Sampling" scheme="http://yoursite.com/tags/Random-Rejection-Sampling/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-710 Random Pick With Blacklist</title>
    <link href="http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-LeetCode-710-Random-Pick-With-Blacklist/"/>
    <id>http://yoursite.com/2020/08/05/leetcode_old/2020-08-05-LeetCode-710-Random-Pick-With-Blacklist/</id>
    <published>2020-08-05T07:35:00.000Z</published>
    <updated>2020-08-07T10:35:50.126Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªåŒ…å« [0ï¼Œn ) ä¸­ç‹¬ç‰¹çš„æ•´æ•°çš„é»‘åå• Bï¼Œå†™ä¸€ä¸ªå‡½æ•°ä» [ 0ï¼Œn ) ä¸­è¿”å›ä¸€ä¸ªä¸åœ¨ B ä¸­çš„éšæœºæ•´æ•°ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// å¯¹å®ƒè¿›è¡Œä¼˜åŒ–ä½¿å…¶å°½é‡å°‘è°ƒç”¨ç³»ç»Ÿæ–¹æ³• Math.random() ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æç¤º: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// 1 &lt;= N &lt;= 1000000000 </span></span><br><span class="line"><span class="comment">// 0 &lt;= B.length &lt; min(100000, N) </span></span><br><span class="line"><span class="comment">// [0, N) ä¸åŒ…å« Nï¼Œè¯¦ç»†å‚è§ interval notation ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 1: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[1,[]],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,0,0,0]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 2: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[2,[]],[],[],[]]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: [null,1,1,1]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 3: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[3,[1]],[],[],[]]</span></span><br><span class="line"><span class="comment">//Output: [null,0,0,2]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ 4: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//è¾“å…¥: </span></span><br><span class="line"><span class="comment">//["Solution","pick","pick","pick"]</span></span><br><span class="line"><span class="comment">//[[4,[2]],[],[],[]]    å³Solution(4, [2]), pick(), pick(), pick()</span></span><br><span class="line"><span class="comment">// è¾“å‡º: [null,1,3,1]</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥è¯­æ³•è¯´æ˜ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼šè°ƒç”¨æˆå‘˜å‡½æ•°å(Solution, pick, pick)å’Œè°ƒç”¨çš„å‚æ•°ã€‚Solutionçš„æ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒN å’Œé»‘åå• Bã€‚pick æ²¡æœ‰å‚æ•°ï¼Œè¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå³ä½¿å‚æ•°ä¸ºç©ºï¼Œ</span></span><br><span class="line"><span class="comment">//ä¹Ÿä¼šè¾“å…¥ä¸€ä¸ª [] ç©ºåˆ—è¡¨ã€‚ </span></span><br><span class="line"><span class="comment">// Related Topics æ’åº å“ˆå¸Œè¡¨ äºŒåˆ†æŸ¥æ‰¾ Random </span></span><br><span class="line"><span class="comment">// ğŸ‘ 36 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P710RandomPickWithBlacklist</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P710RandomPickWithBlacklist().<span class="keyword">new</span> Solution(<span class="number">4</span>, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>&#125;);</span><br><span class="line">        <span class="keyword">int</span> param1 = solution.pick();</span><br><span class="line">        System.out.println(param1);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 3: é»‘åå•æ˜ å°„</span></span><br><span class="line"><span class="comment">     * T: O(B) é¢„å¤„ç†çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(B)ï¼Œéšæœºé€‰æ‹©çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1).</span></span><br><span class="line"><span class="comment">     * S: O(B)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ€è·¯ï¼šç™½åå•ä¸­æ•°çš„ä¸ªæ•°ä¸ºN-len(B), é‚£ä¹ˆå¯ä»¥ç›´æ¥åœ¨[0,N-len(B))ä¸­éšæœºç”Ÿæˆæ•´æ•°ã€‚æˆ‘ä»¬æŠŠæ‰€æœ‰å°äºN-len(B)ä¸”åœ¨é»‘åå•</span></span><br><span class="line"><span class="comment">     * ä¸­çš„æ•°â€”â€”æ˜ å°„åˆ°å¤§äºç­‰äºN-len(B)ä¸”å‡ºç°åœ¨ç™½åå•ä¸­çš„æ•°ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœéšæœºç”Ÿæˆçš„æ•´æ•°å‡ºç°åœ¨é»‘åå•ä¸­ï¼Œæˆ‘ä»¬å°±è¿”å›å®ƒå”¯ä¸€</span></span><br><span class="line"><span class="comment">     * å¯¹åº”çš„é‚£ä¸ªå‡ºç°åœ¨ç™½åå•ä¸­çš„æ•°å³å¯ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å°äºN-len(B)ä¸”åœ¨é»‘åå•ä¸­çš„å…ƒç´ ä¸ªæ•° = å¤§äºç­‰äºN-len(b)ä¸”åœ¨ç™½åå•ä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     * -â€”-----------------------------------</span></span><br><span class="line"><span class="comment">     * | ç™½ N-len(B)         | é»‘ len(b)    |</span></span><br><span class="line"><span class="comment">     * -â€”-----------------------------------</span></span><br><span class="line"><span class="comment">     * å·¦å³äº¤æ¢å…ƒç´ ï¼Œå³å¯å‡ºç° å°äºN-len(b)ä¸”åœ¨é»‘åå•ä¸­çš„å…ƒç´  å’Œ å¤§äºç­‰äºN-len(B)ä¸”åœ¨ç™½åå•ä¸­çš„å…ƒç´ .</span></span><br><span class="line"><span class="comment">     * ä¸¤è€…ä¸ªæ•°ä¸€å®šç›¸åŒ.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; m;</span><br><span class="line">        Random r;</span><br><span class="line">        <span class="keyword">int</span> wlen;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span>[] b;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span>[] blacklist)</span> </span>&#123;</span><br><span class="line">            m = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            r = <span class="keyword">new</span> Random();</span><br><span class="line">            n = N;</span><br><span class="line">            b = blacklist;</span><br><span class="line">            <span class="comment">// ç™½åå•å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">            wlen = n-b.length;</span><br><span class="line">            <span class="comment">// ç™½åå•å…ƒç´ é›†åˆ</span></span><br><span class="line">            Set&lt;Integer&gt; w = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            <span class="comment">// ä½¿ç”¨å¤§äºç­‰äºN-len(B)çš„æ•°æ¥æ„é€ åˆå§‹ç™½åå•å…ƒç´ é›†åˆ(å¤§äºç­‰äºN-len(B)çš„æ‰€æœ‰å…ƒç´ ).</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=wlen; i&lt;n; i++)</span><br><span class="line">                w.add(i);</span><br><span class="line">            <span class="comment">// ä»åˆå§‹ç™½åå•å…ƒç´ ä¸­å‰”é™¤é»‘åå•å…ƒç´ (å³ä»…å‰”é™¤äº†å¤§äºç­‰äºN-len(B)çš„é»‘åå•å…ƒç´ ï¼Œä¿ç•™ä¸‹æ¥çš„ä¸ºå¤§äºç­‰äºN-len(B)çš„ç™½åå•å…ƒç´ )</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x:b)</span><br><span class="line">                w.remove(x);</span><br><span class="line">            <span class="comment">// å°†å°äºN-len(b)ä¸”åœ¨é»‘åå•ä¸­çš„å…ƒç´  æ˜ å°„åˆ° ç™½åå•å…ƒç´ (å¤§äºç­‰äºN-len(B)çš„ç™½åå•å…ƒç´ )</span></span><br><span class="line">            Iterator&lt;Integer&gt; wi = w.iterator();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> x:b)</span><br><span class="line">                <span class="keyword">if</span>(x&lt;wlen)</span><br><span class="line">                    m.put(x, wi.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pick</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> k = r.nextInt(wlen);</span><br><span class="line">            <span class="keyword">return</span> m.getOrDefault(k, k); <span class="comment">// Mapä¸­æœ‰å¯¹åº”æ˜ å°„çš„è¯å–æ˜ å°„å€¼ï¼Œå¦åˆ™ä¸ºåŸå€¼k.</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Your Solution object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">     * Solution obj = new Solution(N, blacklist);</span></span><br><span class="line"><span class="comment">     * int param_1 = obj.pick();</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 1: ç»´æŠ¤ç™½åå•</span></span><br><span class="line"><span class="comment"> * T: O(N) é¢„å¤„ç†çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼Œè¶…å‡ºæ—¶é—´é™åˆ¶</span></span><br><span class="line"><span class="comment"> * S: O(N) è¶…å‡ºç©ºé—´é™åˆ¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ç»´æŠ¤ç™½åå•(å³é»‘åå•ä¹‹å¤–çš„æ‰€æœ‰æ•´æ•°)ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç™½åå•ä¸­éšæœºé€‰å–æ•´æ•°å¹¶è¿”å›äº†.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * é¦–å…ˆåœ¨é›†åˆä¸­æ”¾å…¥[0,N)ä¸­çš„æ‰€æœ‰æ•´æ•°ï¼Œéšåç§»é™¤æ‰€æœ‰åœ¨é»‘åå•ä¸­å‡ºç°è¿‡çš„æ•°ï¼Œå¹¶æŠŠå‰©ä¸‹çš„æ•°æ”¾å…¥åˆ—è¡¨ä¸­ï¼Œå¾—åˆ°ç™½åå•.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    List&lt;Integer&gt; w;</span></span><br><span class="line"><span class="comment">    Random r;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Solution(int N, int[] blacklist) &#123;</span></span><br><span class="line"><span class="comment">        w = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">        r = new Random();</span></span><br><span class="line"><span class="comment">        Set&lt;Integer&gt; whitelist = new HashSet&lt;&gt;();</span></span><br><span class="line"><span class="comment">        for(int i=0; i&lt;N; i++)</span></span><br><span class="line"><span class="comment">            whitelist.add(i);</span></span><br><span class="line"><span class="comment">        for(int x:blacklist)</span></span><br><span class="line"><span class="comment">            whitelist.remove(x);</span></span><br><span class="line"><span class="comment">        w.addAll(whitelist);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public int pick() &#123;</span></span><br><span class="line"><span class="comment">        return w.get(r.nextInt(w.size()));</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 2: äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * é€šè¿‡Nå’Œé»‘åå•åˆ—è¡¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ç™½åå•ä¸­æ•°çš„æ•°é‡Mã€‚æˆ‘ä»¬å¯ä»¥åœ¨0åˆ°M-1ä¹‹é—´äº§ç”Ÿéšæœºæ•°kï¼Œé€šè¿‡åœ¨é»‘åå•ä¸ŠäºŒåˆ†</span></span><br><span class="line"><span class="comment"> * æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œå¾—åˆ°ç™½åå•ä¸­ç¬¬kä¸ªæ•°.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1. è®¾é»‘åå•ä¸ºBï¼Œç™½åå•ä¸ºWï¼Œç»™å®škï¼Œéœ€è¦å¾—åˆ°ç™½åå•ä¸­çš„ç¬¬kä¸ªæ•°W[k].</span></span><br><span class="line"><span class="comment"> * 2. å°†é»‘åå•ä¸­çš„æ•°è¿›è¡Œæ’åºï¼Œå¹¶åœ¨é»‘åå•ä¸ŠäºŒåˆ†æŸ¥æ‰¾ï¼Œåˆå§‹çš„å€¼ä¸ºlo=0å’Œhi=len(B)-1,åœ¨äºŒåˆ†æŸ¥æ‰¾çš„æ¯ä¸€è½®ä¸­:</span></span><br><span class="line"><span class="comment"> *    - mid = (lo+hi+1)/2;</span></span><br><span class="line"><span class="comment"> *    - ä»¤c=B[mid]-mid, è¡¨ç¤ºæ¯”B[mid]å°çš„åœ¨ç™½åå•ä¸­çš„æ•°çš„ä¸ªæ•°;</span></span><br><span class="line"><span class="comment"> *      (å› ä¸ºæ•´ä¸ªåˆ—è¡¨æ˜¯[0,n),B[mid]ä»£è¡¨è¯¥æ•°åœ¨å…¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œmidä»£è¡¨è¯¥æ•°å­—å‰é¢è¿˜æœ‰midä¸ªé»‘åå•æ•°å­—)</span></span><br><span class="line"><span class="comment"> *    - å¦‚æœc&gt;kï¼Œè¯´æ˜B[mid]å¤§äºW[k], å› æ­¤è®¾ç½®hi=mid-1;</span></span><br><span class="line"><span class="comment"> *    - å¦‚æœc&lt;=k,è¯´æ˜B[mid]å°äºW[k]ï¼Œå› æ­¤è®¾ç½®lo=mid;</span></span><br><span class="line"><span class="comment"> * 3. äºŒåˆ†æŸ¥æ‰¾ç»“æŸåï¼Œä¼šæœ‰ä¸¤ç§æƒ…å†µã€‚ç¬¬ä¸€ç§æ˜¯Bä¸­æœ€å°çš„æ•°éƒ½å¤§äºkï¼Œé‚£ä¹ˆæ­¤æ—¶W[k]å°±ç­‰äºkã€‚ç¬¬äºŒç§æ˜¯W[k]å¤§äºB[lo]ï¼Œ</span></span><br><span class="line"><span class="comment"> *    é‚£ä¹ˆæ­¤æ—¶W[k]ç­‰äºk+lo+1.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    int n;</span></span><br><span class="line"><span class="comment">    int[] b;</span></span><br><span class="line"><span class="comment">    Random r;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Solution(int N, int[] blacklist) &#123;</span></span><br><span class="line"><span class="comment">        n = N;</span></span><br><span class="line"><span class="comment">        r = new Random();</span></span><br><span class="line"><span class="comment">        Arrays.sort(blacklist);</span></span><br><span class="line"><span class="comment">        b = blacklist;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public int pick() &#123;</span></span><br><span class="line"><span class="comment">        // éšæœºé€‰å–ç™½åå•åˆ—è¡¨ä¸­çš„ä¸‹æ ‡ä¸ºkçš„å…ƒç´ </span></span><br><span class="line"><span class="comment">        int k = r.nextInt(n-b.length);</span></span><br><span class="line"><span class="comment">        // é»‘åå•ä¸­é‡‡ç”¨äºŒåˆ†æ³•</span></span><br><span class="line"><span class="comment">        int lo = 0;</span></span><br><span class="line"><span class="comment">        int hi = b.length-1;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // äºŒåˆ†æ³•çš„ç›®çš„æ˜¯å¯»æ‰¾ä¸€ä¸ªæœ€å¤§çš„indexï¼Œä½¿å¾—black[index]å·¦ä¾§çš„ç™½åå•å…ƒç´ ä¸ªæ•°&lt;index+1(æ‰€éœ€è¦çš„ç™½åå•å…ƒç´ ä¸ªæ•°)</span></span><br><span class="line"><span class="comment">        while(lo&lt;hi)&#123;</span></span><br><span class="line"><span class="comment">            int mid = (lo+hi+1)/2;</span></span><br><span class="line"><span class="comment">            // å¦‚æœå…¨åˆ—è¡¨ä¸­å°äº é»‘åå•ä¸­å½“å‰å…ƒç´  çš„ç™½åå•å…ƒç´ ä¸ªæ•°è¶…è¿‡kä¸ª</span></span><br><span class="line"><span class="comment">            if(b[mid]-mid &gt; k)</span></span><br><span class="line"><span class="comment">                hi = mid-1;</span></span><br><span class="line"><span class="comment">                // å¦‚æœå…¨åˆ—è¡¨ä¸­å°äº é»‘åå•ä¸­å½“å‰å…ƒç´  çš„ç™½åå•å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡kä¸ª</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                lo = mid;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        // kæ˜¯ç™½åå•æ•°ç»„çš„indexï¼Œ k+1æ˜¯ç™½åå•çš„å…ƒç´ ä¸ªæ•°. lo+1æ˜¯æ­¤æ—¶é»‘åå•çš„å…ƒç´ ä¸ªæ•°ï¼Œå…¨åˆ—è¡¨ä¸­å…ƒç´ ä¸ªæ•°æ˜¯lo+1+k+1ï¼Œç”±äºå…ƒç´ æ€»é‡</span></span><br><span class="line"><span class="comment">        // å’Œä¸‹æ ‡ç›¸å·®1ï¼Œå› æ­¤å…¨åˆ—è¡¨ä¸­çš„ä¸‹æ ‡ä¸ºlo+k+1.</span></span><br><span class="line"><span class="comment">        return lo==hi &amp;&amp; b[lo]-lo&lt;=k ? k+lo+1 : k;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="å“ˆå¸Œè¡¨" scheme="http://yoursite.com/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="æ’åº" scheme="http://yoursite.com/tags/%E6%8E%92%E5%BA%8F/"/>
    
      <category term="Random" scheme="http://yoursite.com/tags/Random/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-106 Construct Binary Tree From Inorder And Postorder Traversal</title>
    <link href="http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-106-Construct-Binary-Tree-From-Inorder-And-Postorder-Traversal/"/>
    <id>http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-106-Construct-Binary-Tree-From-Inorder-And-Postorder-Traversal/</id>
    <published>2020-08-04T13:55:00.000Z</published>
    <updated>2020-08-07T10:33:25.950Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¹æ®ä¸€æ£µæ ‘çš„ä¸­åºéå†ä¸ååºéå†æ„é€ äºŒå‰æ ‘ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ³¨æ„: </span></span><br><span class="line"><span class="comment">//ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œç»™å‡º </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¸­åºéå† inorder =Â [9,3,15,20,7]</span></span><br><span class="line"><span class="comment">//ååºéå† postorder = [9,15,7,20,3] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     3</span></span><br><span class="line"><span class="comment">//   / \</span></span><br><span class="line"><span class="comment">//  9  20</span></span><br><span class="line"><span class="comment">//    /  \</span></span><br><span class="line"><span class="comment">//   15   7</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Related Topics æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ æ•°ç»„ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 253 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P106ConstructBinaryTreeFromInorderAndPostorderTraversal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P106ConstructBinaryTreeFromInorderAndPostorderTraversal().<span class="keyword">new</span> Solution();</span><br><span class="line">        TreeNode root = solution.buildTree(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">9</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">20</span>,<span class="number">7</span>&#125;, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">9</span>,<span class="number">15</span>,<span class="number">7</span>,<span class="number">20</span>,<span class="number">3</span>&#125;);</span><br><span class="line">        preTraverse(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preTraverse</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        System.out.print(root.val+<span class="string">" "</span>);</span><br><span class="line">        preTraverse(root.left);</span><br><span class="line">        preTraverse(root.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        TreeNode left;</span><br><span class="line">        TreeNode right;</span><br><span class="line">        TreeNode(<span class="keyword">int</span> x)&#123; val = x; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">     * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment">     *     int val;</span></span><br><span class="line"><span class="comment">     *     TreeNode left;</span></span><br><span class="line"><span class="comment">     *     TreeNode right;</span></span><br><span class="line"><span class="comment">     *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment">     * &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Map&lt;Integer, Integer&gt; indexMap;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TreeNode <span class="title">myBuildTree</span><span class="params">(<span class="keyword">int</span>[] postorder, <span class="keyword">int</span>[] inorder, <span class="keyword">int</span> postorder_left, <span class="keyword">int</span> postorder_right,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    <span class="keyword">int</span> inorder_left, <span class="keyword">int</span> inorder_right)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(postorder_left&gt;postorder_right)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ååºéå†ä¸­çš„å°¾èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> postorder_root = postorder_right;</span><br><span class="line">            <span class="comment">// åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> inorder_root = indexMap.get(postorder[postorder_root]);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ„é€ æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            TreeNode root = <span class="keyword">new</span> TreeNode(postorder[postorder_root]);</span><br><span class="line">            <span class="comment">// å¾—åˆ°å·¦å­æ ‘çš„èŠ‚ç‚¹æ•°ç›®</span></span><br><span class="line">            <span class="keyword">int</span> left_subtree_size = inorder_root - inorder_left;</span><br><span class="line">            <span class="comment">// é€’å½’æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root.left = myBuildTree(postorder, inorder, postorder_left, postorder_left+left_subtree_size-<span class="number">1</span>, inorder_left, inorder_root-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// é€’å½’æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root.right = myBuildTree(postorder, inorder, postorder_left+left_subtree_size, postorder_right-<span class="number">1</span>, inorder_root+<span class="number">1</span>, inorder_right);</span><br><span class="line">            <span class="comment">// è¿”å›æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> n = postorder.length;</span><br><span class="line">            <span class="comment">// æ„é€ å“ˆå¸Œæ˜ å°„</span></span><br><span class="line">            indexMap = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">                indexMap.put(inorder[i], i);</span><br><span class="line">            <span class="keyword">return</span> myBuildTree(postorder, inorder, <span class="number">0</span>, n-<span class="number">1</span>, <span class="number">0</span>, n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="æ ‘" scheme="http://yoursite.com/tags/%E6%A0%91/"/>
    
      <category term="DFS" scheme="http://yoursite.com/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-105 Construct Binary Tree From Preorder And Inorder Traversal</title>
    <link href="http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-105-Construct-Binary-Tree-From-Preorder-And-Inorder-Traversal/"/>
    <id>http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-105-Construct-Binary-Tree-From-Preorder-And-Inorder-Traversal/</id>
    <published>2020-08-04T09:20:00.000Z</published>
    <updated>2020-08-07T10:31:40.314Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ³¨æ„: </span></span><br><span class="line"><span class="comment">//ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œç»™å‡º </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// å‰åºéå† preorder =Â [3,9,20,15,7]</span></span><br><span class="line"><span class="comment">//ä¸­åºéå† inorder = [9,3,15,20,7] </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//     3</span></span><br><span class="line"><span class="comment">//   / \</span></span><br><span class="line"><span class="comment">//  9  20</span></span><br><span class="line"><span class="comment">//    /  \</span></span><br><span class="line"><span class="comment">//   15   7 </span></span><br><span class="line"><span class="comment">// Related Topics æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ æ•°ç»„ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 598 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P105ConstructBinaryTreeFromPreorderAndInorderTraversal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P105ConstructBinaryTreeFromPreorderAndInorderTraversal().<span class="keyword">new</span> Solution();</span><br><span class="line">        TreeNode root = solution.buildTree(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">3</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">7</span>&#125;, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">9</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">20</span>,<span class="number">7</span>&#125;);</span><br><span class="line">        preTraverse(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">preTraverse</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        System.out.print(root.val+<span class="string">" "</span>);</span><br><span class="line">        preTraverse(root.left);</span><br><span class="line">        preTraverse(root.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        TreeNode left;</span><br><span class="line">        TreeNode right;</span><br><span class="line">        TreeNode(<span class="keyword">int</span> x)&#123; val=x; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">     * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment">     *     int val;</span></span><br><span class="line"><span class="comment">     *     TreeNode left;</span></span><br><span class="line"><span class="comment">     *     TreeNode right;</span></span><br><span class="line"><span class="comment">     *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment">     * &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 1: é€’å½’</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å‰åºéå†ï¼š ä¸­-å·¦-å³</span></span><br><span class="line"><span class="comment">     * ä¸­åºéå†ï¼š å·¦-ä¸­-å³</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å¯¹äºä»»æ„ä¸€æ£µæ ‘è€Œè¨€ï¼Œå‰åºéå†çš„å½¢å¼æ€»æ˜¯: [æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ]]</span></span><br><span class="line"><span class="comment">     *                  ä¸­åºéå†çš„å½¢å¼æ€»æ˜¯: [[å·¦å­æ ‘çš„ä¸­åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„ä¸­åºéå†ç»“æœ]]</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨ä¸­åºéå†ä¸­å®šä½åˆ°æ ¹èŠ‚ç‚¹æ—¶ï¼Œå°±å¯ä»¥åˆ†åˆ«çŸ¥é“å·¦å­æ ‘å’Œå³å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ï¼Œå› æ­¤å°±å¯ä»¥å¯¹åº”åˆ°å‰åºéå†çš„ç»“æœ</span></span><br><span class="line"><span class="comment">     * ä¸­ï¼Œå¯¹ä¸Šè¿°æ€§è´¨ä¸­çš„æ‰€æœ‰å·¦å³æ‹¬å·è¿›è¡Œå®šä½.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * åœ¨ä¸­åºéå†ä¸­å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½æ—¶ï¼Œä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥æ‰«ææ•´ä¸ªä¸­åºéå†çš„ç»“æœå¹¶æ‰¾å‡ºæ ¹èŠ‚ç‚¹ï¼Œä¸è¿‡æ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚</span></span><br><span class="line"><span class="comment">     * å¯ä»¥è€ƒè™‘ä½¿ç”¨å“ˆå¸Œæ˜ å°„æ¥å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹ï¼Œå¯¹äºå“ˆå¸Œæ˜ å°„ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œé”®è¡¨ç¤ºä¸€ä¸ªå…ƒç´ (èŠ‚ç‚¹å€¼)ï¼Œå€¼è¡¨ç¤ºå…¶åœ¨ä¸­åºéå†</span></span><br><span class="line"><span class="comment">     * ä¸­çš„å‡ºç°ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment">     * åœ¨æ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¹‹å‰ï¼Œå¯ä»¥å¯¹ä¸­åºéå†çš„åˆ—è¡¨è¿›è¡Œä¸€éæ‰«æï¼Œæ„é€ å‡ºè¿™ä¸ªå“ˆå¸Œæ˜ å°„ã€‚åœ¨æ­¤åæ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±</span></span><br><span class="line"><span class="comment">     * åªéœ€è¦O(1)çš„æ—¶é—´å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Map&lt;Integer,Integer&gt; indexMap;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TreeNode <span class="title">myBuildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder, <span class="keyword">int</span> preorder_left, <span class="keyword">int</span> preorder_right,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    <span class="keyword">int</span> inorder_left, <span class="keyword">int</span> inorder_right)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(preorder_left &gt; preorder_right)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> preorder_root = preorder_left;</span><br><span class="line">            <span class="comment">// åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> inorder_root = indexMap.get(preorder[preorder_root]);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ„é€ æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            TreeNode root = <span class="keyword">new</span> TreeNode(preorder[preorder_root]);</span><br><span class="line">            <span class="comment">// å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®</span></span><br><span class="line">            <span class="keyword">int</span> left_subtree_size = inorder_root - inorder_left;</span><br><span class="line">            <span class="comment">// é€’å½’æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root.left = myBuildTree(preorder, inorder, preorder_left+<span class="number">1</span>, preorder_left+left_subtree_size, inorder_left, inorder_root-<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// é€’å½’æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            root.right = myBuildTree(preorder, inorder, preorder_left+left_subtree_size+<span class="number">1</span>, preorder_right, inorder_root+<span class="number">1</span>, inorder_right);</span><br><span class="line">            <span class="comment">// è¿”å›æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> n = preorder.length;</span><br><span class="line">            <span class="comment">// æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œä¾¿äºåœ¨ä¸­åºéå†åˆ—è¡¨ä¸­å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            indexMap = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">            <span class="comment">// é”®å€¼å¯¹: value-index</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">                indexMap.put(inorder[i], i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> myBuildTree(preorder, inorder, <span class="number">0</span>, n-<span class="number">1</span>, <span class="number">0</span>, n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="æ ‘" scheme="http://yoursite.com/tags/%E6%A0%91/"/>
    
      <category term="DFS" scheme="http://yoursite.com/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-90 Subsetsli</title>
    <link href="http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-90-Subsetsli/"/>
    <id>http://yoursite.com/2020/08/04/leetcode_old/2020-08-04-LeetCode-90-Subsetsli/</id>
    <published>2020-08-04T06:55:00.000Z</published>
    <updated>2020-08-07T10:29:30.659Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªå¯èƒ½åŒ…å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¯´æ˜ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: [1,2,2]</span></span><br><span class="line"><span class="comment">//è¾“å‡º:</span></span><br><span class="line"><span class="comment">//[</span></span><br><span class="line"><span class="comment">//  [2],</span></span><br><span class="line"><span class="comment">//  [1],</span></span><br><span class="line"><span class="comment">//  [1,2,2],</span></span><br><span class="line"><span class="comment">//  [2,2],</span></span><br><span class="line"><span class="comment">//  [1,2],</span></span><br><span class="line"><span class="comment">//  []</span></span><br><span class="line"><span class="comment">//] </span></span><br><span class="line"><span class="comment">// Related Topics æ•°ç»„ å›æº¯ç®—æ³• </span></span><br><span class="line"><span class="comment">// ğŸ‘ 284 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P90SubsetsIi</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P90SubsetsIi().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.subsetsWithDup(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution: å›æº¯+åŒå±‚å»é‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * numsé‡Œé¢æœ‰é‡å¤å…ƒç´ ï¼ŒæŒ‰ç…§78é¢˜è§£æ€è·¯ä¼šå‡ºç°é‡å¤ï¼Œå› æ­¤åœ¨dfsä¹‹å‰ï¼Œå…ˆå¯¹numsè¿›è¡Œæ’åºï¼Œæ’åºånumsé‡Œç›¸åŒ</span></span><br><span class="line"><span class="comment">     * çš„å…ƒç´ å¿…å®šç›¸é‚»ã€‚å› æ­¤åœ¨éå†è§£ç©ºé—´æ ‘çš„æ—¶å€™ï¼Œè¦åšä¸€ä¸ªå»é‡çš„æ“ä½œã€‚ å³é‡åˆ°é‡å¤å‡ºç°ï¼Œä¹Ÿå°±æ˜¯å’Œå‰é¢ç›¸é‚»å…ƒç´ </span></span><br><span class="line"><span class="comment">     * ç›¸åŒçš„æ—¶å€™ï¼Œç›´æ¥è·³è¿‡è¯¥èŠ‚ç‚¹ï¼Œä¸è®©å®ƒå‘ä¸‹é€’å½’.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ³¨ï¼šå»é‡æ“ä½œæ˜¯åœ¨åŒå±‚ä¸­è¿›è¡Œçš„ï¼Œè€Œä¸åŒå±‚çš„ç›¸åŒå…ƒç´ ä¸èƒ½å»é‡.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;(); <span class="comment">//ä¸€ä¸ªå¯èƒ½çš„å­é›†</span></span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="keyword">int</span>[] nums;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; subsetsWithDup(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">            <span class="keyword">this</span>.nums = nums;</span><br><span class="line">            <span class="keyword">this</span>.n = nums.length;</span><br><span class="line">            <span class="comment">// æ’åºï¼Œä½¿ç›¸åŒçš„å…ƒç´ ç›¸é‚»</span></span><br><span class="line">            Arrays.sort(nums);</span><br><span class="line">            <span class="comment">// å›æº¯</span></span><br><span class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;()); <span class="comment">// æ·»åŠ ç©ºé›†[]</span></span><br><span class="line">            backtrack(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123; <span class="comment">// iä¸ºå°†è¦å¡«å…¥çš„å…ƒç´ ä¸‹æ ‡ï¼Œå³è¯¥å±‚ä»nums[i]å¤„çš„å…ƒç´ å¼€å§‹forå¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span>(i==n)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">// dfsæ·»åŠ å­èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;n; j++)&#123;</span><br><span class="line">                <span class="comment">// è‹¥åŒå±‚é‡å¤ï¼Œè·³è¿‡</span></span><br><span class="line">                <span class="keyword">if</span>(j&gt;i &amp;&amp; nums[j]==nums[j-<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">// pathå›æº¯åˆ°åŒå±‚ä¸‹ä¸€èŠ‚ç‚¹.</span></span><br><span class="line">                path.add(nums[j]);</span><br><span class="line">                <span class="comment">// ansåŠ å…¥æ–°è·¯å¾„</span></span><br><span class="line">                ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(path));</span><br><span class="line">                <span class="comment">// dfsä¸‹ä¸€å±‚</span></span><br><span class="line">                backtrack(j+<span class="number">1</span>);</span><br><span class="line">                <span class="comment">// é™¤å»æ­¤èŠ‚ç‚¹ï¼Œå›æº¯åŒå±‚ä¸‹ä¸€èŠ‚ç‚¹.</span></span><br><span class="line">                path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="Medium" scheme="http://yoursite.com/tags/Medium/"/>
    
      <category term="å›æº¯ç®—æ³•" scheme="http://yoursite.com/tags/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-88 Merge Sorted Array</title>
    <link href="http://yoursite.com/2020/08/03/leetcode_old/2020-08-03-LeetCode-88-Merge-Sorted-Array/"/>
    <id>http://yoursite.com/2020/08/03/leetcode_old/2020-08-03-LeetCode-88-Merge-Sorted-Array/</id>
    <published>2020-08-03T08:05:00.000Z</published>
    <updated>2020-08-07T10:27:49.016Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œè¯·ä½ å°† nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿ nums1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¯´æ˜: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ n ã€‚ </span></span><br><span class="line"><span class="comment">// ä½ å¯ä»¥å‡è®¾ nums1 æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆç©ºé—´å¤§å°å¤§äºæˆ–ç­‰äº m + nï¼‰æ¥ä¿å­˜ nums2 ä¸­çš„å…ƒç´ ã€‚ </span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥:</span></span><br><span class="line"><span class="comment">//nums1 = [1,2,3,0,0,0], m = 3</span></span><br><span class="line"><span class="comment">//nums2 = [2,5,6],       n = 3</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//è¾“å‡º:Â [1,2,2,3,5,6] </span></span><br><span class="line"><span class="comment">// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 578 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P88MergeSortedArray</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P88MergeSortedArray().<span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">int</span>[] nums1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] nums2 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        solution.merge(nums1,<span class="number">3</span>,nums2,<span class="number">3</span>);</span><br><span class="line">        System.out.println(Arrays.toString(nums1));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 3: åŒæŒ‡é’ˆ/ä»åå¾€å‰</span></span><br><span class="line"><span class="comment">     * T: O(m+n)  S: O(1)</span></span><br><span class="line"><span class="comment">     * Solution2ä¸­éœ€è¦ä½¿ç”¨é¢å¤–ç©ºé—´ï¼Œå› ä¸ºåœ¨ä»å¤´æ”¹å˜nums1çš„å€¼æ—¶ï¼Œéœ€è¦å°†nums1ä¸­çš„å…ƒç´ å­˜æ”¾åœ¨å…¶ä»–ä½ç½®ï¼Œå¦åˆ™ä¼š</span></span><br><span class="line"><span class="comment">     * å‡ºç°è¦†ç›–å‡ºé”™çš„é—®é¢˜.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * è€Œå¦‚æœä»ç»“å°¾å¼€å§‹æ”¹å†™nums1çš„å€¼æ—¶ï¼Œåˆ™ä¸éœ€è¦é¢å¤–çš„ç©ºé—´ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> m, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘nums1,nums2çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">int</span> p1 = m-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> p2 = n-<span class="number">1</span>;</span><br><span class="line">            <span class="comment">// è¯¥æŒ‡é’ˆæŒ‡å‘nums1æ’å…¥å…ƒç´ çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">int</span> p = m+n-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(p1&gt;=<span class="number">0</span> &amp;&amp; p2&gt;=<span class="number">0</span>)</span><br><span class="line">                nums1[p--] = nums1[p1]&gt;nums2[p2] ? nums1[p1--] : nums2[p2--];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¦‚æœnums2æ•°ç»„ä¸­æœ‰å‰©ä½™å…ƒç´ </span></span><br><span class="line">            System.arraycopy(nums2, <span class="number">0</span>, nums1, <span class="number">0</span>, p2+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 1: åˆå¹¶åæ’åº</span></span><br><span class="line"><span class="comment"> * T: O((m+n)log(m+n))</span></span><br><span class="line"><span class="comment"> * å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶åè¿›è¡Œæ’åº.å› ä¸ºæ²¡æœ‰åˆ©ç”¨åˆ°ä¸¤æ•°ç»„æœ¬èº«å·²ç»æœ‰åºè¿™ç‚¹ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦è¾ƒå·®ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public void merge(int[] nums1, int m, int[] nums2, int n) &#123;</span></span><br><span class="line"><span class="comment">        System.arraycopy(nums2, 0, nums1, m, n);</span></span><br><span class="line"><span class="comment">        Arrays.sort(nums1);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 2: åŒæŒ‡é’ˆ/ä»å‰å¾€å</span></span><br><span class="line"><span class="comment"> * T: O(m+n)  S:O(m)</span></span><br><span class="line"><span class="comment"> * å°†æŒ‡é’ˆp1ç½®ä¸ºnums1çš„å¼€å¤´ï¼Œp2ä¸ºnums2çš„å¼€å¤´ï¼Œåœ¨æ¯ä¸€æ­¥å°†æœ€å°å€¼æ”¾å…¥è¾“å‡ºæ•°ç»„ä¸­ã€‚</span></span><br><span class="line"><span class="comment"> * ä½†æ˜¯ç”±äºnums1æ˜¯ç”¨äºè¾“å‡ºçš„æ•°ç»„ï¼Œå› æ­¤éœ€è¦å°†nums1ä¸­çš„å‰mä¸ªå…ƒç´ æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼Œå› æ­¤éœ€è¦é¢å¤–çš„</span></span><br><span class="line"><span class="comment"> * O(m)çš„ç©ºé—´å¤æ‚åº¦.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public void merge(int[] nums1, int m, int[] nums2, int n) &#123;</span></span><br><span class="line"><span class="comment">        int[] nums1_copy = new int[m];</span></span><br><span class="line"><span class="comment">        System.arraycopy(nums1, 0, nums1_copy, 0, m);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘num1_copy, nums2</span></span><br><span class="line"><span class="comment">        int p1=0, p2=0;</span></span><br><span class="line"><span class="comment">        // è¯¥æŒ‡é’ˆæŒ‡å‘nums1,ä»å‰å‘å</span></span><br><span class="line"><span class="comment">        int p=0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        while(p1&lt;m &amp;&amp; p2&lt;n)</span></span><br><span class="line"><span class="comment">            nums1[p++] = nums1_copy[p1]&lt;nums2[p2] ? nums1_copy[p1++] : nums2[p2++];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        if(p1&lt;m)</span></span><br><span class="line"><span class="comment">            System.arraycopy(nums1_copy, p1, nums1, p1+p2, m+n-p1-p2);</span></span><br><span class="line"><span class="comment">        if(p2&lt;n)</span></span><br><span class="line"><span class="comment">            System.arraycopy(nums2, p2, nums1, p1+p2, m+n-p1-p2);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="åŒæŒ‡é’ˆ" scheme="http://yoursite.com/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"/>
    
      <category term="Easy" scheme="http://yoursite.com/tags/Easy/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-85 Maximal Rectangle</title>
    <link href="http://yoursite.com/2020/08/03/leetcode_old/2020-08-03-LeetCode-85-Maximal-Rectangle/"/>
    <id>http://yoursite.com/2020/08/03/leetcode_old/2020-08-03-LeetCode-85-Maximal-Rectangle/</id>
    <published>2020-08-03T03:23:00.000Z</published>
    <updated>2020-08-07T10:52:48.557Z</updated>
    
    <content type="html"><![CDATA[<img src="https://tva1.sinaimg.cn/large/007S8ZIlly1ghifz7taryj31400u0e83.jpg" style="zoom: 33%;" /><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥:</span></span><br><span class="line"><span class="comment">//[</span></span><br><span class="line"><span class="comment">//  ["1","0","1","0","0"],</span></span><br><span class="line"><span class="comment">//  ["1","0","1","1","1"],</span></span><br><span class="line"><span class="comment">//  ["1","1","1","1","1"],</span></span><br><span class="line"><span class="comment">//  ["1","0","0","1","0"]</span></span><br><span class="line"><span class="comment">//]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: 6 </span></span><br><span class="line"><span class="comment">// Related Topics æ ˆ æ•°ç»„ å“ˆå¸Œè¡¨ åŠ¨æ€è§„åˆ’ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 531 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P85MaximalRectangle</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P85MaximalRectangle().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.maximalRectangle(<span class="keyword">new</span> <span class="keyword">char</span>[][]&#123;</span><br><span class="line">                                        &#123;<span class="string">'1'</span>,<span class="string">'0'</span>,<span class="string">'1'</span>,<span class="string">'0'</span>,<span class="string">'0'</span>&#125;,</span><br><span class="line">                                        &#123;<span class="string">'1'</span>,<span class="string">'0'</span>,<span class="string">'1'</span>,<span class="string">'1'</span>,<span class="string">'1'</span>&#125;,</span><br><span class="line">                                        &#123;<span class="string">'1'</span>,<span class="string">'1'</span>,<span class="string">'1'</span>,<span class="string">'1'</span>,<span class="string">'1'</span>&#125;,</span><br><span class="line">                                        &#123;<span class="string">'1'</span>,<span class="string">'0'</span>,<span class="string">'0'</span>,<span class="string">'1'</span>,<span class="string">'0'</span>&#125;</span><br><span class="line"></span><br><span class="line">                            &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution 2: æ ˆè§£æ³•</span></span><br><span class="line"><span class="comment">     * T: O(mn)  S: O(n)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ç±»ä¼¼84é¢˜æ±‚ç›´æ–¹å›¾çŸ©å½¢çš„æœ€å¤§é¢ç§¯çš„æ€è·¯.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix.length==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span>[] heights = <span class="keyword">new</span> <span class="keyword">int</span>[matrix[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// éå†æ¯ä¸€è¡Œ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">0</span>; row&lt;matrix.length; row++) &#123;</span><br><span class="line">                <span class="comment">// éå†æ¯ä¸€åˆ—, æ›´æ–°æ¯åˆ—æŸ±å½¢çš„é«˜åº¦</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; matrix[<span class="number">0</span>].length; col++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (matrix[row][col] == <span class="string">'1'</span>)</span><br><span class="line">                        heights[col] += <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        heights[col] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æ ˆè§£æ³•æ±‚è¯¥è¡Œçš„æŸ±åˆ—è¡¨çš„æœ€å¤§çŸ©å½¢é¢ç§¯</span></span><br><span class="line">                maxArea = Math.max(maxArea, largestRectangleArea(heights));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> maxArea;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ˆè§£æ³•æ±‚æŸ±å½¢åˆ—è¡¨çš„æœ€å¤§çŸ©å½¢é¢ç§¯</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span></span>&#123;</span><br><span class="line">            <span class="comment">// æ ˆè§£æ³•</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            int maxArea = 0;</span></span><br><span class="line"><span class="comment">            Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();</span></span><br><span class="line"><span class="comment">            int p=0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            while(p&lt;heights.length)&#123;</span></span><br><span class="line"><span class="comment">                // æ ˆç©ºå…¥æ ˆ</span></span><br><span class="line"><span class="comment">                if(stack.isEmpty())&#123;</span></span><br><span class="line"><span class="comment">                    stack.push(p);</span></span><br><span class="line"><span class="comment">                    p++;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                else&#123;</span></span><br><span class="line"><span class="comment">                    int top = stack.peek();</span></span><br><span class="line"><span class="comment">                    // è‹¥å½“å‰é«˜åº¦å¤§äºæ ˆé¡¶ï¼Œåˆ™å…¥æ ˆ</span></span><br><span class="line"><span class="comment">                    if(heights[p]&gt;=heights[top])&#123;</span></span><br><span class="line"><span class="comment">                        stack.push(p);</span></span><br><span class="line"><span class="comment">                        p++;</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                    else&#123;</span></span><br><span class="line"><span class="comment">                        // ä¿å­˜æ ˆé¡¶é«˜åº¦</span></span><br><span class="line"><span class="comment">                        int height = heights[stack.pop()];</span></span><br><span class="line"><span class="comment">                        // å·¦è¾¹ç¬¬ä¸€ä¸ªå°äºå½“å‰æŸ±å­çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">                        int leftLessMin = stack.isEmpty()? -1: stack.peek();</span></span><br><span class="line"><span class="comment">                        // å³è¾¹ç¬¬ä¸€ä¸ªå°äºå½“å‰æŸ±å­çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">                        int rightLessMin = p;</span></span><br><span class="line"><span class="comment">                        // è®¡ç®—é¢ç§¯</span></span><br><span class="line"><span class="comment">                        int area = (rightLessMin-leftLessMin-1)*height;</span></span><br><span class="line"><span class="comment">                        maxArea  = Math.max(area, maxArea);</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            while(!stack.isEmpty())&#123;</span></span><br><span class="line"><span class="comment">                // ä¿å­˜æ ˆé¡¶é«˜åº¦</span></span><br><span class="line"><span class="comment">                int height = heights[stack.pop()];</span></span><br><span class="line"><span class="comment">                // å·¦è¾¹ç¬¬ä¸€ä¸ªå°äºå½“å‰æŸ±å­çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">                int leftLessMin = stack.isEmpty()? -1 : stack.peek();</span></span><br><span class="line"><span class="comment">                // å³è¾¹æ²¡æœ‰å°äºå½“å‰é«˜åº¦çš„æŸ±å­ï¼Œæ‰€ä»¥èµ‹å€¼ç»™æ•°ç»„çš„é•¿åº¦ä¾¿äºè®¡ç®—</span></span><br><span class="line"><span class="comment">                int rightLessMin = heights.length;</span></span><br><span class="line"><span class="comment">                int area = (rightLessMin-leftLessMin-1)*height;</span></span><br><span class="line"><span class="comment">                maxArea = Math.max(area, maxArea);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            return maxArea;</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">             <span class="comment">//å“¨å…µæ ˆ</span></span><br><span class="line">            <span class="keyword">int</span> maxArea = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> len = heights.length;</span><br><span class="line">            <span class="keyword">int</span>[] newHeights = <span class="keyword">new</span> <span class="keyword">int</span>[len+<span class="number">2</span>];</span><br><span class="line">            newHeights[<span class="number">0</span>] = <span class="number">0</span>;  <span class="comment">//å·¦ä¾§å“¨å…µ</span></span><br><span class="line">            System.arraycopy(heights, <span class="number">0</span>, newHeights, <span class="number">1</span>, len);</span><br><span class="line">            newHeights[len+<span class="number">1</span>]=<span class="number">0</span>;  <span class="comment">//å³ä¾§å“¨å…µ</span></span><br><span class="line">            len += <span class="number">2</span>;  <span class="comment">// æ–°æ•°ç»„é•¿åº¦(æ·»åŠ å·¦å³å“¨å…µ)</span></span><br><span class="line"></span><br><span class="line">            Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">            stack.push(<span class="number">0</span>);  <span class="comment">// å…ˆæ”¾å…¥å·¦ä¾§å“¨å…µï¼Œé¿å…å¾ªç¯é‡Œçš„éç©ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">                <span class="keyword">while</span>(newHeights[i] &lt; newHeights[stack.peek()])&#123;</span><br><span class="line">                    <span class="keyword">int</span> curHeight = newHeights[stack.pop()];</span><br><span class="line">                    <span class="keyword">int</span> curWidth = i-stack.peek()-<span class="number">1</span>;</span><br><span class="line">                    maxArea = Math.max(maxArea, curHeight*curWidth);</span><br><span class="line">                &#125;</span><br><span class="line">                stack.push(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> maxArea;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Solution 1: åˆ©ç”¨æŸ±å½¢å›¾çš„ä¼˜åŒ–æš´åŠ›è§£æ³•</span></span><br><span class="line"><span class="comment"> *  T: O(m^2 * n)  S:(mn)</span></span><br><span class="line"><span class="comment"> * éå†æ¯ä¸ªç‚¹ï¼Œæ±‚å‡ºä»¥è¿™ä¸ªç‚¹ä¸ºçŸ©é˜µå³ä¸‹è§’çš„æ‰€æœ‰çŸ©é˜µé¢ç§¯ã€‚</span></span><br><span class="line"><span class="comment"> * 1. æ¯ä¸ªç‚¹æ±‚å‡ºä»¥è¯¥ç‚¹ç»“å°¾çš„è¿ç»­1çš„ä¸ªæ•°;  å¦‚ï¼š</span></span><br><span class="line"><span class="comment"> *     1 0 1 0 0         1 0 1 0 0</span></span><br><span class="line"><span class="comment"> *     1 0 1 1 1   -&gt;    1 0 1 2 3</span></span><br><span class="line"><span class="comment"> *     1 1 1[1]1   -&gt;    1 2 3[4]5</span></span><br><span class="line"><span class="comment"> *     1 0 0 1 0         1 0 0 1 0</span></span><br><span class="line"><span class="comment"> * 2. é¦–å…ˆæ±‚å‡ºé«˜åº¦ä¸º1çš„çŸ©å½¢é¢ç§¯ï¼Œå°±æ˜¯ä»–è‡ªèº«çš„æ•°, å¦‚å›¾ä¸­çš„4;</span></span><br><span class="line"><span class="comment"> * 3. ç„¶åå‘ä¸Šæ‰©å±•ä¸€è¡Œï¼Œé«˜åº¦å¢åŠ ä¸€ï¼Œé€‰å‡ºå½“å‰åˆ—æœ€å°çš„æ•°å­—ï¼Œä½œä¸ºçŸ©é˜µçš„å®½(width=min(4,2))ï¼Œ</span></span><br><span class="line"><span class="comment"> *    æ±‚å‡ºé¢ç§¯;</span></span><br><span class="line"><span class="comment"> * 4. ç„¶åç»§ç»­å‘ä¸Šæ‰©å±•ï¼Œé‡å¤æ­¥éª¤3.</span></span><br><span class="line"><span class="comment"> * 5. éå†æ‰€æœ‰çš„ç‚¹ï¼Œæ±‚å‡ºæ‰€æœ‰çš„çŸ©é˜µå³å¯.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public int maximalRectangle(char[][] matrix) &#123;</span></span><br><span class="line"><span class="comment">        if(matrix.length == 0)</span></span><br><span class="line"><span class="comment">            return 0;</span></span><br><span class="line"><span class="comment">        // ä¿å­˜ä»¥å½“å‰æ•°å­—ç»“å°¾çš„è¿ç»­1çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">        int[][] width = new int[matrix.length][matrix[0].length];</span></span><br><span class="line"><span class="comment">        int maxArea = 0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        for(int row=0; row&lt;matrix.length; row++)&#123;</span></span><br><span class="line"><span class="comment">            for(int col=0; col&lt;matrix[0].length; col++)&#123;</span></span><br><span class="line"><span class="comment">                // æ›´æ–°æ¯ä¸ªç‚¹çš„width(ä»¥å½“å‰æ•°å­—ç»“å°¾çš„è¿ç»­1çš„ä¸ªæ•°)</span></span><br><span class="line"><span class="comment">                if(matrix[row][col]=='1')</span></span><br><span class="line"><span class="comment">                    width[row][col] = (col==0 ? width[row][col]=1:width[row][col-1]+1);</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    width[row][col]=0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                // ç”¨æ¥è®°å½•è¯¥åˆ—ä¸­æœ€å°çš„width.</span></span><br><span class="line"><span class="comment">                int minWidth = width[row][col];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                // å‘ä¸Šæ‰©å±•è¡Œ</span></span><br><span class="line"><span class="comment">                for(int up_row=row; up_row&gt;=0; up_row--)&#123;</span></span><br><span class="line"><span class="comment">                    // æ±‚çŸ©é˜µçš„é«˜</span></span><br><span class="line"><span class="comment">                    int height = row-up_row+1;</span></span><br><span class="line"><span class="comment">                    // æ‰¾è¯¥åˆ—ä¸­æœ€å°çš„widthä½œä¸ºçŸ©é˜µçš„å®½</span></span><br><span class="line"><span class="comment">                    minWidth = Math.min(minWidth, width[up_row][col]);</span></span><br><span class="line"><span class="comment">                    // æ›´æ–°çŸ©æœ€å¤§é¢ç§¯</span></span><br><span class="line"><span class="comment">                    maxArea = Math.max(maxArea, minWidth*height);</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        return maxArea;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;img src=&quot;https://tva1.sinaimg.cn/large/007S8ZIlly1ghifz7taryj31400u0e83.jpg&quot; style=&quot;zoom: 33%;&quot; /&gt;



&lt;figure class=&quot;highlight java&quot;&gt;&lt;table
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="å“ˆå¸Œè¡¨" scheme="http://yoursite.com/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="http://yoursite.com/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
      <category term="æ ˆ" scheme="http://yoursite.com/tags/%E6%A0%88/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-84 Largest Rectangle In Histogram</title>
    <link href="http://yoursite.com/2020/08/02/leetcode_old/2020-08-02-LeetCode-84-Largest-Rectangle-In-Histogram/"/>
    <id>http://yoursite.com/2020/08/02/leetcode_old/2020-08-02-LeetCode-84-Largest-Rectangle-In-Histogram/</id>
    <published>2020-08-02T15:00:00.000Z</published>
    <updated>2020-08-02T15:00:50.042Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ä»¥ä¸Šæ˜¯æŸ±çŠ¶å›¾çš„ç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæŸ±å­çš„å®½åº¦ä¸º 1ï¼Œç»™å®šçš„é«˜åº¦ä¸º [2,1,5,6,2,3]ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// å›¾ä¸­é˜´å½±éƒ¨åˆ†ä¸ºæ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå…¶é¢ç§¯ä¸º 10 ä¸ªå•ä½ã€‚ </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// ç¤ºä¾‹: </span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// è¾“å…¥: [2,1,5,6,2,3]</span></span><br><span class="line"><span class="comment">//è¾“å‡º: 10 </span></span><br><span class="line"><span class="comment">// Related Topics æ ˆ æ•°ç»„ </span></span><br><span class="line"><span class="comment">// ğŸ‘ 822 ğŸ‘ 0</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">package</span> leetcode.editor.cn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P84LargestRectangleInHistogram</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> P84LargestRectangleInHistogram().<span class="keyword">new</span> Solution();</span><br><span class="line">        System.out.println(solution.largestRectangleArea(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>&#125;));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Solution3: å“¨å…µæ ˆ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Solution2ä¸­éœ€è¦è€ƒè™‘ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼š1.å¼¹æ ˆçš„æ—¶å€™ï¼Œæ ˆä¸ºç©º; 2.éå†å®Œæˆä»¥åï¼Œæ ˆä¸­è¿˜æœ‰å…ƒç´ .</span></span><br><span class="line"><span class="comment">     * å¯ä»¥é€šè¿‡åœ¨è¾“å…¥æ•°ç»„çš„ä¸¤ç«¯åŠ ä¸Šä¸¤ä¸ªé«˜åº¦ä¸º0çš„æŸ±å½¢(å“¨å…µå…ƒç´ )ï¼Œæ¥å›é¿ä¸Šé¢çš„ä¸¤ç§ç‰¹æ®Šæƒ…å†µã€‚</span></span><br><span class="line"><span class="comment">     * - å·¦è¾¹çš„æŸ±å½¢ç”±äºå®ƒä¸€å®šæ¯”è¾“å…¥æ•°ç»„é‡Œçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ å°ï¼Œå®ƒè‚¯å®šä¸ä¼šå‡ºæ ˆ, å› æ­¤æ ˆä¸€å®šä¸ä¼šä¸ºç©ºï¼›</span></span><br><span class="line"><span class="comment">     * - å³è¾¹çš„æŸ±å½¢ç”±äºå®ƒä¸€å®šæ¯”è¾“å…¥æ•°ç»„é‡Œçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ å°ï¼Œå®ƒä¼šè®©æ‰€æœ‰è¾“å…¥æ•°ç»„é‡Œçš„å…ƒç´ å‡ºæ ˆ(ç¬¬ä¸€ä¸ªå“¨å…µå…ƒç´ é™¤å¤–)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ­¤å¤„æ ˆå¯¹åº”é«˜åº¦ï¼Œå¹¶å‘ˆå•è°ƒä¸å‡çš„å½¢æ€ï¼Œç§°ä¸ºå•è°ƒæ ˆã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> len = heights.length;</span><br><span class="line">            <span class="keyword">if</span>(len==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(len==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> heights[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// åˆ›å»ºæ–°æ•°ç»„ï¼Œå¤åˆ¶æ—§æ•°ç»„å†…å®¹ï¼Œå¹¶åœ¨ä¸¤ç«¯åŠ ä¸Šå“¨å…µ.</span></span><br><span class="line">            <span class="keyword">int</span>[] newHeights = <span class="keyword">new</span> <span class="keyword">int</span>[len+<span class="number">2</span>];</span><br><span class="line">            newHeights[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            System.arraycopy(heights, <span class="number">0</span>, newHeights, <span class="number">1</span>, len);</span><br><span class="line">            newHeights[len+<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">            len += <span class="number">2</span>;</span><br><span class="line">            heights = newHeights;</span><br><span class="line"></span><br><span class="line">            Deque&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;(len);</span><br><span class="line">            stack.addLast(<span class="number">0</span>);  <span class="comment">// å…ˆæ”¾å…¥(å·¦ä¾§)å“¨å…µï¼Œé¿å…å¾ªç¯é‡Œçš„éç©ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">                <span class="keyword">while</span>(heights[i] &lt; heights[stack.peekLast()])&#123;</span><br><span class="line">                    <span class="keyword">int</span> curHeight = heights[stack.pollLast()];</span><br><span class="line">                    <span class="keyword">int</span> curWidth = i-stack.peekLast()-<span class="number">1</span>;</span><br><span class="line">                    ans = Math.max(ans, curHeight*curWidth);</span><br><span class="line">                &#125;</span><br><span class="line">                stack.addLast(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 1:æš´åŠ›ç ´è§£</span></span><br><span class="line"><span class="comment"> * T: O(N^2)  S:O(1)</span></span><br><span class="line"><span class="comment"> * ä¾æ¬¡éå†æŸ±å½¢çš„é«˜åº¦ï¼Œå¯¹äºæ¯ä¸€ä¸ªé«˜åº¦åˆ†åˆ«å‘ä¸¤è¾¹æ‰©æ•£ï¼Œæ±‚å‡ºä»¥å½“å‰é«˜åº¦ä¸ºçŸ©å½¢çš„æœ€å¤§å®½åº¦æ˜¯å¤šå°‘.</span></span><br><span class="line"><span class="comment"> * - å·¦è¾¹çœ‹ä¸€ä¸‹ï¼Œçœ‹æœ€å¤šèƒ½å‘å·¦å»¶ä¼¸å¤šé•¿ï¼Œæ‰¾åˆ°å¤§äºç­‰äºå½“å‰æŸ±å½¢é«˜åº¦çš„æœ€å·¦è¾¹å…ƒç´ çš„ä¸‹æ ‡ï¼›</span></span><br><span class="line"><span class="comment"> * - å³è¾¹çœ‹ä¸€ä¸‹ï¼Œçœ‹æœ€å¤šèƒ½å‘å³å»¶ä¼¸å¤šå°‘ï¼Œæ‰¾åˆ°å¤§äºç­‰äºå½“å‰æŸ±å½¢é«˜åº¦çš„æœ€å³è¾¹å…ƒç´ çš„ä¸‹æ ‡ï¼›</span></span><br><span class="line"><span class="comment"> * å¯¹äºæ¯ä¸€ä¸ªä½ç½®ï¼Œéƒ½å¾—åˆ°ä¸€ä¸ªçŸ©å½¢é¢ç§¯ï¼Œæ±‚å‡ºå®ƒä»¬çš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public int largestRectangleArea(int[] heights) &#123;</span></span><br><span class="line"><span class="comment">        int n = heights.length;</span></span><br><span class="line"><span class="comment">        if(n == 0)</span></span><br><span class="line"><span class="comment">            return 0;</span></span><br><span class="line"><span class="comment">        int ans = 0;</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;n;i++)&#123;</span></span><br><span class="line"><span class="comment">            // å¯»æ‰¾å·¦è¾¹æœ€åä¸€ä¸ªæ»¡è¶³å¤§äºç­‰äºheight[i]çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">            int left = i;</span></span><br><span class="line"><span class="comment">            while(left&gt;0 &amp;&amp; heights[left-1]&gt;=heights[i])</span></span><br><span class="line"><span class="comment">                left--;</span></span><br><span class="line"><span class="comment">            // å¯»æ‰¾å³è¾¹æœ€åä¸€ä¸ªæ»¡è¶³å¤§äºç­‰äºheight[i]çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">            int right = i;</span></span><br><span class="line"><span class="comment">            while(right&lt;n-1 &amp;&amp; heights[right+1]&gt;=heights[i])</span></span><br><span class="line"><span class="comment">                right++;</span></span><br><span class="line"><span class="comment">            // æ±‚ä»¥å½“å‰é«˜åº¦ä¸ºçŸ©å½¢çš„å®½åº¦</span></span><br><span class="line"><span class="comment">            int width = right-left+1;</span></span><br><span class="line"><span class="comment">            ans = Math.max(ans, width*heights[i]);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return ans;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Solution 2:</span></span><br><span class="line"><span class="comment"> * T:O(N) è¾“å…¥æ•°ç»„é‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ å…¥æ ˆä¸€æ¬¡ï¼Œå‡ºæ ˆä¸€æ¬¡ã€‚  S:O(N) æ ˆçš„ç©ºé—´æœ€å¤šä¸ºNã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * åœ¨éå†çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰çš„é«˜åº¦æ¯”å®ƒä¹‹å‰çš„é«˜åº¦ä¸¥æ ¼å°äºçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ç¡®å®šä¹‹å‰çš„é‚£ä¸ªé«˜çš„æŸ±å½¢çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯ã€‚</span></span><br><span class="line"><span class="comment"> * ä¸ºäº†ç¡®å®šè¿™ä¸ªæœ€å¤§çŸ©å½¢çš„å·¦è¾¹ç•Œï¼Œè¿˜è¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸¥æ ¼å°äºå®ƒçš„é«˜åº¦çš„çŸ©å½¢ã€‚</span></span><br><span class="line"><span class="comment"> * å¦‚æˆ‘ä»¬(1,5,6)æƒ³ç¡®å®š6çš„å®½åº¦ï¼Œ6çš„å®½åº¦ç¡®å®šå®Œäº†ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å®ƒäº†ï¼Œç„¶å5çš„å®½åº¦ç¡®å®šå®Œäº†ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦å®ƒäº†ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * åœ¨ç¼“å­˜æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯ä»å·¦å‘å³ç¼“å­˜çš„ï¼Œæˆ‘ä»¬è®¡ç®—å‡ºä¸€ä¸ªç»“æœçš„é¡ºåºæ˜¯ä»å³å‘å·¦çš„ï¼Œå¹¶ä¸”è®¡ç®—å®Œä¹‹åå°±ä¸å†éœ€è¦äº†ã€‚</span></span><br><span class="line"><span class="comment"> * ç¬¦åˆåè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ï¼Œåˆ©ç”¨æ ˆæ¥å®Œæˆã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä¸€æ¬¡éå†å®Œæˆä»¥åï¼Œæ¥ä¸‹æ¥è¦è€ƒè™‘æ ˆé‡Œçš„å…ƒç´ å…¨éƒ¨å‡ºæ ˆã€‚æ­¤æ—¶å¯¹äºæœ€å³ä¾§æŸ±å½¢æ¥è¯´ï¼Œå³è¾¹æ²¡æœ‰æ¯”å®ƒé«˜åº¦è¿˜å°çš„æŸ±å½¢ï¼Œæ­¤æ—¶è®¡ç®—</span></span><br><span class="line"><span class="comment"> * å®½åº¦åº”è¯¥å‡è®¾æœ€å³è¾¹è¿˜æœ‰ä¸€ä¸ªä¸‹æ ‡ä¸ºlençš„é«˜åº¦ä¸º0çš„æŸ±å½¢ã€‚å¯¹äºæœ€åæœ€çŸ®çš„æŸ±å½¢ï¼Œå…¶å·¦è¾¹å’Œå³è¾¹å…¶å®éƒ½æ²¡æœ‰å…ƒç´ äº†ï¼Œå…¶å°±æ˜¯</span></span><br><span class="line"><span class="comment"> * æ•´ä¸ªæŸ±å½¢æ•°ç»„é‡Œé«˜åº¦æœ€ä½çš„æŸ±å½¢ï¼Œè®¡ç®—å…¶å®½åº¦ï¼Œå°±æ˜¯æ•´ä¸ªæŸ±å½¢æ•°ç»„çš„é•¿åº¦ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">class Solution &#123;</span></span><br><span class="line"><span class="comment">    public int largestRectangleArea(int[] heights) &#123;</span></span><br><span class="line"><span class="comment">        int len = heights.length;</span></span><br><span class="line"><span class="comment">        if(len==0)</span></span><br><span class="line"><span class="comment">            return 0;</span></span><br><span class="line"><span class="comment">        if(len==1)</span></span><br><span class="line"><span class="comment">            return heights[0];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        int ans = 0;</span></span><br><span class="line"><span class="comment">        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;(len);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // å…¥æ ˆ</span></span><br><span class="line"><span class="comment">        for(int i=0; i&lt;len; i++)&#123;</span></span><br><span class="line"><span class="comment">            // ä½¿ç”¨whileæ˜¯å› ä¸ºæœ‰å¯èƒ½ä¸æ­¢ä¸€ä¸ªæŸ±å½¢çš„æœ€å¤§å®½åº¦å¯ä»¥è¢«è®¡ç®—å‡ºæ¥.</span></span><br><span class="line"><span class="comment">            while(!stack.isEmpty() &amp;&amp; heights[i]&lt;heights[stack.peekLast()])&#123;</span></span><br><span class="line"><span class="comment">                int curHeight = heights[stack.pollLast()];</span></span><br><span class="line"><span class="comment">                // å¦‚æœæœ‰ç›¸åŒé«˜åº¦çš„æŸ±å½¢ï¼Œåˆ™å¿½ç•¥å¹¶å‘å‰å¯»æ‰¾ä¸¥æ ¼å°äº.</span></span><br><span class="line"><span class="comment">                while(!stack.isEmpty() &amp;&amp; heights[stack.peekLast()]==curHeight)</span></span><br><span class="line"><span class="comment">                    stack.pollLast();</span></span><br><span class="line"><span class="comment">                int curWidth;</span></span><br><span class="line"><span class="comment">                // å·²å¯»æ‰¾åˆ°æ•°ç»„é¦–å…ƒç´ ä½ç½®</span></span><br><span class="line"><span class="comment">                if(stack.isEmpty())</span></span><br><span class="line"><span class="comment">                    curWidth = i;</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    curWidth = i-stack.peekLast()-1;</span></span><br><span class="line"><span class="comment">                ans = Math.max(ans, curHeight*curWidth);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            stack.addLast(i);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        // å‰©ä½™å…ƒç´ å‡ºæ ˆ</span></span><br><span class="line"><span class="comment">        while(!stack.isEmpty())&#123;</span></span><br><span class="line"><span class="comment">            int curHeight = heights[stack.pollLast()];</span></span><br><span class="line"><span class="comment">            while(!stack.isEmpty() &amp;&amp; heights[stack.peekLast()]==curHeight)</span></span><br><span class="line"><span class="comment">                stack.pollLast();</span></span><br><span class="line"><span class="comment">            int curWidth;</span></span><br><span class="line"><span class="comment">            // åªå‰©ä¸‹æœ€çŸ®çš„æŸ±å½¢ï¼Œå…¶å·¦è¾¹å’Œå³è¾¹éƒ½æ— å…¶ä»–çš„å…ƒç´ ï¼Œåˆ™å…¶å®½åº¦ä¸ºæ•°ç»„é•¿åº¦</span></span><br><span class="line"><span class="comment">            if(stack.isEmpty())</span></span><br><span class="line"><span class="comment">                curWidth=len;</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                curWidth=len-stack.peekLast()-1;</span></span><br><span class="line"><span class="comment">            ans = Math.max(ans, curHeight*curWidth);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return ans;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=
      
    
    </summary>
    
    
      <category term="leetcode" scheme="http://yoursite.com/categories/leetcode/"/>
    
    
      <category term="leetcode" scheme="http://yoursite.com/tags/leetcode/"/>
    
      <category term="æ•°ç»„" scheme="http://yoursite.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="Hard" scheme="http://yoursite.com/tags/Hard/"/>
    
      <category term="æ ˆ" scheme="http://yoursite.com/tags/%E6%A0%88/"/>
    
  </entry>
  
</feed>
